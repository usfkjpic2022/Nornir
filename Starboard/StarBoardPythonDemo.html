<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Starboard Notebook</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="icon" href="./favicon.ico">
        <link href="./starboard-notebook.css" rel="stylesheet">
    </head>
    <body>
		<starboard-navbar>
			<nav class="navbar navbar-main" role="navigation" aria-label="main navigation">
				<div class="navbar-brand">
					<a class="navbar-item" href="/" style="padding-left:1.6rem">
						<b>Starboard</b>
					</a>
					<a role="button" aria-label="menu" class="navbar-burger burger" aria-expanded="false">
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
					</a>
				</div>
				<div class="navbar-menu">
					<div class="navbar-start">
						<a href="/dashboard" class="navbar-item">Dashboard </a>
						<a href="/jupystar" class="navbar-item">Jupystar</a>
					</div>
					<div class="navbar-end">
						<div class="navbar-item">
							<div class="buttons">
								<a href="/login" class="button semi-bold" style="border-color: transparent; background-color: transparent;">Sign in</a>
								<a href="/signup" class="button is-primary semi-bold">Create Account</a>
							</div>
						</div>
					</div>
				</div>
			</nav>
		</starboard-navbar>
		<div class="title-container" style="margin-bottom:18px">
			<h1 class="title"><svg version="1.1" fill="currentColor" viewBox="0 0 31.954 33.005" xmlns="http://www.w3.org/2000/svg" width="46px" height="40px"><g transform="translate(-35.386 -36.649)"><path transform="scale(.26458)" d="m190.22 142.29a58.783 58.783 0 0 0-52.697 58.4 58.783 58.783 0 0 0 58.783 58.783 58.783 58.783 0 0 0 54.43-36.678 63.532 63.532 0 0 1-62.902-63.5 63.532 63.532 0 0 1 2.3867-17.006z"></path></g></svg>Starboard</h1>
			<h2 class="subtitle">The shareable in-browser notebook</h2>
		</div>
		<div class="container"><div class="title-container" style="margin-bottom:18px"><h1 class="title"><!----><svg version="1.1" fill="currentColor" viewBox="0 0 31.954 33.005" xmlns="http://www.w3.org/2000/svg" width="46px" height="40px">
    <g transform="translate(-35.386 -36.649)">
      <path transform="scale(.26458)" d="m190.22 142.29a58.783 58.783 0 0 0-52.697 58.4 58.783 58.783 0 0 0 58.783 58.783 58.783 58.783 0 0 0 54.43-36.678 63.532 63.532 0 0 1-62.902-63.5 63.532 63.532 0 0 1 2.3867-17.006z"></path>
    </g>
    </svg>Starboard</h1><h2 class="subtitle">The shareable in-browser notebook</h2></div><div class="columns"><div class="column is-one-quarter" style="margin-top:26px"><aside class="menu"><p class="menu-label">Example notebooks</p><ul class="menu-list"><!----><!----> <li><a class="">
                            Introduction to Starboard
                            </a></li><!----> <li><a class="">
                            Data Visualization in JS
                            </a></li><!----> <li><a class="is-active">
                            Python: Pandas and Matplotlib
                            </a></li><!----> <li><a class="">
                            Procedural Art
                            </a></li><!----><!----></ul><div class="content" style="margin-top:2rem">Starboard is an <a href="/open">Open Startup</a>.<br><br>Starboard is in beta, you can read more about Starboard <a href="/about">here</a>.</div></aside></div><div class="column is-three-quarters" style="padding-top:0"><starboard-editor><!----><div class="notebook-container"><div class="notebook-top-button-container"><!----> <button class="notebook-top-button button is-light is-small" title="Reload Notebook"><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" role="img" fill="currentColor" height="16" width="16" aria-hidden="false" aria-label="Refresh">
    <path d="M32.674 20H30.78a1.215 1.215 0 00-1.162.938A11.447 11.447 0 0110.5 26.012l-.692-.693 3.955-3.955A.784.784 0 0014 20.8a.8.8 0 00-.754-.8H2.5a.5.5 0 00-.5.5v10.75a.8.8 0 00.8.75.781.781 0 00.56-.236l3.617-3.617.356.357a16.181 16.181 0 007.284 4.331A15.43 15.43 0 0033.665 21.17a1 1 0 00-.991-1.17zM33.2 4a.781.781 0 00-.56.236l-3.621 3.617-.356-.353a16.181 16.181 0 00-7.284-4.331A15.43 15.43 0 002.335 14.83 1 1 0 003.326 16H5.22a1.215 1.215 0 001.162-.938A11.447 11.447 0 0125.5 9.988l.692.693-3.955 3.955A.784.784 0 0022 15.2a.8.8 0 00.754.8H33.5a.5.5 0 00.5-.5V4.754A.8.8 0 0033.2 4z"></path>
  </svg><!----></button> <button class="notebook-top-button button is-light is-small"><span>View source</span></button></div><starboard-source-viewer class="no-display"><!----><pre class="cell-editor"><code><!----># %% [markdown]
# üêç Python support in Starboard Notebook

Python support is built on top of [Pyodide](https://hacks.mozilla.org/2019/04/pyodide-bringing-the-scientific-python-stack-to-the-browser/), a WebAssembly powered Python runtime in the browser that supports most of the common scientific packages such as Numpy, Pandas and Matplotlib.

Using Starboard you can create a Python notebook without any backend server.

&gt; New to Starboard? Check out the [Starboard introduction notebook](https://starboard.gg/#introduction) for an overview of Starboard itself.
# %% [python]
# When you first run this cell it will load the Python runtime.
# This runtime is a few megabytes in size. Your browser should cache it, so the next time it should load faster.
message = "Hello Python!"
print(message)

x = [i**2 for i in range(5)]
x
# %% [js]
// Python variables in global scope are automatically converted to Javascript variables.
// They can be accessed from the pyodide.globals object:
console.log(pyodide.globals.get("message"));

// Aso we can import Javascript variables into Python, let's try that
var myFavoriteNumber = 22;
# %% [python]
from js import document, myFavoriteNumber

el = document.createElement("h3")
el.innerText = "My favorite number is " + str(myFavoriteNumber)

# Note we created this HTML element in Python!
el
# %% [markdown]
## Visualizing car data using pandas and matplotlib

Analyzing, explaining and visualizing data is a great usecase for Starboard notebooks.

In this example we'll load datasets from [Selva Prabhakaran's ML dataset repository on Github](https://github.com/selva86/datasets) and visualize them. The code below is based on examples from their matplotlib examples [blog post](https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/).

&gt; Matplotlib plots are not really made for mobile devices, interactivity can be a bit buggy and they may overflow.

&gt; Consider viewing below examples on a desktop.
# %% [python]
# You can import many of the common scientific Python packages such as numpy or pandas
# A full list can be found here https://github.com/iodide-project/pyodide/tree/master/packages
# Packages are downloaded and installed dynamically, they are cached afterwards.
import pandas as pd
import matplotlib.pyplot as plt
import pyodide

url = "https://raw.githubusercontent.com/selva86/datasets/master/mtcars.csv"

# Prepare Data
df = pd.read_csv(pyodide.open_url(url))

x = df.loc[:, ['mpg']]
df['mpg_z'] = (x - x.mean())/x.std()
df['colors'] = ['red' if x &lt; 0 else 'green' for x in df['mpg_z']]
df.sort_values('mpg_z', inplace=True)
df.reset_index(inplace=True)

df
# %% [python]
# Draw plot
plt.figure(figsize=(10,8), dpi= 80)
plt.hlines(y=df.index, xmin=0, xmax=df.mpg_z, color=df.colors, alpha=0.4, linewidth=5)

# Decorations
plt.gca().set(ylabel='$Model$', xlabel='$Mileage$ (standard deviations)')
plt.yticks(df.index, df.cars, fontsize=8)
plt.title('Diverging Bars of Car Mileage', fontdict={'size':16})
plt.grid(linestyle='--', alpha=0.5)
plt.show()
# %% [python]
# By using micropip we can install additional packages that don't ship with Pyodide by default.
# Most pure python package work in the browser, here we install "squarify"
import micropip
micropip.install("squarify")
# %% [python]
import squarify 

url = "https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv"

df = pd.read_csv(pyodide.open_url(url))
df = df.groupby('class').size().reset_index(name='counts')
labels = df.apply(lambda x: str(x[0]) + "\n (" + str(x[1]) + ")", axis=1)
sizes = df['counts'].values.tolist()
colors = [plt.cm.Spectral(i/float(len(labels))) for i in range(len(labels))]

# Draw Plot
plt.figure(figsize=(8,5), dpi= 80)
squarify.plot(sizes=sizes, label=labels, color=colors, alpha=.8)

plt.title('Treemap of Vehicle Class')
plt.axis('off')
plt.show()
<!----></code></pre><!----></starboard-source-viewer><starboard-embed style="display: block; width: 100%;"><iframe style="width: 100%; height: 2409.16px;" sandbox="allow-scripts allow-modals allow-same-origin allow-pointer-lock allow-top-navigation-by-user-activation allow-forms allow-downloads" allow="geolocation;gamepad;ch-ect;midi;usb;local-fonts;picture-in-picture;publickey-credentials-get;otp-credentials;ch-save-data;ch-ua-full-version-list;ch-ua-wow64;ch-downlink;ch-prefers-color-scheme;sync-xhr;ch-ua-model;serial;camera;ch-prefers-reduced-motion;private-state-token-issuance;bluetooth;identity-credentials-get;ch-ua-full-version;fullscreen;ch-dpr;keyboard-map;ch-ua-platform;gyroscope;window-placement;ch-ua-mobile;ch-ua;magnetometer;accelerometer;private-state-token-redemption;ch-ua-arch;xr-spatial-tracking;ch-ua-platform-version;ch-width;clipboard-read;ch-viewport-width;payment;ch-viewport-height;ch-rtt;autoplay;cross-origin-isolated;hid;ch-ua-bitness;screen-wake-lock;clipboard-write;ch-device-memory;microphone" src="https://demo.starboard.host/0.15.3/index.html" frameborder="0" scrolling="no"></iframe></starboard-embed><!----></div><!----></starboard-editor></div></div><div class="section has-text-centered"><p><a href="/signup" class="button is-medium is-primary">Sign up for Starboard</a></p><p class="has-text-weight-semibold is-size-7" style="margin-top:5px">It's free, powered by your browser</p><br><p class="help">OR</p><br><p><a href="/dashboard/new" class="button is-medium is-primary is-outlined">Create an offline notebook</a></p><p class="has-text-weight-semibold is-size-7" style="margin-top:5px">Also free, but it can't be shared</p></div></div>
			<script>
				window.initialNotebookContent = `# %% [markdown]\n# \u{1F40D} Python support in Starboard Notebook\n\nPython support is built on top of [Pyodide](https://hacks.mozilla.org/2019/04/pyodide-bringing-the-scientific-python-stack-to-the-browser/), a WebAssembly powered Python runtime in the browser that supports most of the common scientific packages such as Numpy, Pandas and Matplotlib.\n\nUsing Starboard you can create a Python notebook without any backend server.\n\n> New to Starboard? Check out the [Starboard introduction notebook](https://starboard.gg/#introduction) for an overview of Starboard itself.\n# %% [python]\n# When you first run this cell it will load the Python runtime.\n# This runtime is a few megabytes in size. Your browser should cache it, so the next time it should load faster.\nmessage = "Hello Python!"\nprint(message)\n\nx = [i**2 for i in range(5)]\nx\n# %% [js]\n// Python variables in global scope are automatically converted to Javascript variables.\n// They can be accessed from the pyodide.globals object:\nconsole.log(pyodide.globals.get("message"));\n\n// Aso we can import Javascript variables into Python, let's try that\nvar myFavoriteNumber = 22;\n# %% [python]\nfrom js import document, myFavoriteNumber\n\nel = document.createElement("h3")\nel.innerText = "My favorite number is " + str(myFavoriteNumber)\n\n# Note we created this HTML element in Python!\nel\n# %% [markdown]\n## Visualizing car data using pandas and matplotlib\n\nAnalyzing, explaining and visualizing data is a great usecase for Starboard notebooks.\n\nIn this example we'll load datasets from [Selva Prabhakaran's ML dataset repository on Github](https://github.com/selva86/datasets) and visualize them. The code below is based on examples from their matplotlib examples [blog post](https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/).\n\n> Matplotlib plots are not really made for mobile devices, interactivity can be a bit buggy and they may overflow.\n\n> Consider viewing below examples on a desktop.\n# %% [python]\n# You can import many of the common scientific Python packages such as numpy or pandas\n# A full list can be found here https://github.com/iodide-project/pyodide/tree/master/packages\n# Packages are downloaded and installed dynamically, they are cached afterwards.\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport pyodide\n\nurl = "https://raw.githubusercontent.com/selva86/datasets/master/mtcars.csv"\n\n# Prepare Data\ndf = pd.read_csv(pyodide.open_url(url))\n\nx = df.loc[:, ['mpg']]\ndf['mpg_z'] = (x - x.mean())/x.std()\ndf['colors'] = ['red' if x < 0 else 'green' for x in df['mpg_z']]\ndf.sort_values('mpg_z', inplace=True)\ndf.reset_index(inplace=True)\n\ndf\n# %% [python]\n# Draw plot\nplt.figure(figsize=(10,8), dpi= 80)\nplt.hlines(y=df.index, xmin=0, xmax=df.mpg_z, color=df.colors, alpha=0.4, linewidth=5)\n\n# Decorations\nplt.gca().set(ylabel='$Model$', xlabel='$Mileage$ (standard deviations)')\nplt.yticks(df.index, df.cars, fontsize=8)\nplt.title('Diverging Bars of Car Mileage', fontdict={'size':16})\nplt.grid(linestyle='--', alpha=0.5)\nplt.show()\n# %% [python]\n# By using micropip we can install additional packages that don't ship with Pyodide by default.\n# Most pure python package work in the browser, here we install "squarify"\nimport micropip\nmicropip.install("squarify")\n# %% [python]\nimport squarify \n\nurl = "https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv"\n\ndf = pd.read_csv(pyodide.open_url(url))\ndf = df.groupby('class').size().reset_index(name='counts')\nlabels = df.apply(lambda x: str(x[0]) + "\\n (" + str(x[1]) + ")", axis=1)\nsizes = df['counts'].values.tolist()\ncolors = [plt.cm.Spectral(i/float(len(labels))) for i in range(len(labels))]\n\n# Draw Plot\nplt.figure(figsize=(8,5), dpi= 80)\nsquarify.plot(sizes=sizes, label=labels, color=colors, alpha=.8)\n\nplt.title('Treemap of Vehicle Class')\nplt.axis('off')\nplt.show()\n`;
				window.starboardArtifactsUrl = `./`;
			</script>
			<script src="./starboard-notebook_local.js"></script>
    </body>
</html>