!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=902)}({0:function(e,t,o){"use strict";var n=o(3),r=Object.prototype.toString;function i(e){return"[object Array]"===r.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var o=0,n=e.length;o<n;o++)t.call(null,e[o],o,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function o(o,n){l(t[n])&&l(o)?t[n]=e(t[n],o):l(o)?t[n]=e({},o):i(o)?t[n]=o.slice():t[n]=o}for(var n=0,r=arguments.length;n<r;n++)u(arguments[n],o);return t},extend:function(e,t,o){return u(t,(function(t,r){e[r]=o&&"function"==typeof t?n(t,o):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},1:function(e,t,o){(function(o){var n;!function(o,r){e.exports=function(o){"use strict";var r,i=(o=o||{}).Base64,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(e){for(var t={},o=0,n=e.length;o<n;o++)t[e.charAt(o)]=o;return t}(a),l=String.fromCharCode,c=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(u,c)},h=function(e){var t=[0,2,1][e.length%3],o=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[a.charAt(o>>>18),a.charAt(o>>>12&63),t>=2?"=":a.charAt(o>>>6&63),t>=1?"=":a.charAt(63&o)].join("")},p=o.btoa&&"function"==typeof o.btoa?function(e){return o.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,h)},f=function(e){return p(d(String(e)))},m=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},g=function(e,t){return t?m(f(e)):f(e)};o.Uint8Array&&(r=function(e,t){for(var o="",n=0,r=e.length;n<r;n+=3){var i=e[n],s=e[n+1],l=e[n+2],c=i<<16|s<<8|l;o+=a.charAt(c>>>18)+a.charAt(c>>>12&63)+(void 0!==s?a.charAt(c>>>6&63):"=")+(void 0!==l?a.charAt(63&c):"=")}return t?m(o):o});var b,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,v=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return l(55296+(t>>>10))+l(56320+(1023&t));case 3:return l((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return l((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},w=function(e){return e.replace(y,v)},k=function(e){var t=e.length,o=t%4,n=(t>0?s[e.charAt(0)]<<18:0)|(t>1?s[e.charAt(1)]<<12:0)|(t>2?s[e.charAt(2)]<<6:0)|(t>3?s[e.charAt(3)]:0),r=[l(n>>>16),l(n>>>8&255),l(255&n)];return r.length-=[0,0,2,1][o],r.join("")},S=o.atob&&"function"==typeof o.atob?function(e){return o.atob(e)}:function(e){return e.replace(/\S{1,4}/g,k)},x=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},C=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},T=function(e){return function(e){return w(S(e))}(C(e))};o.Uint8Array&&(b=function(e){return Uint8Array.from(x(C(e)),(function(e){return e.charCodeAt(0)}))});var A=function(){var e=o.Base64;return o.Base64=i,e};if(o.Base64={VERSION:"2.6.4",atob:x,btoa:p,fromBase64:T,toBase64:g,utob:d,encode:g,encodeURI:function(e){return g(e,!0)},btou:w,decode:T,noConflict:A,fromUint8Array:r,toUint8Array:b},"function"==typeof Object.defineProperty){var E=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};o.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",E((function(){return T(this)}))),Object.defineProperty(String.prototype,"toBase64",E((function(e){return g(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",E((function(){return g(this,!0)})))}}o.Meteor&&(Base64=o.Base64);e.exports?e.exports.Base64=o.Base64:void 0===(n=function(){return o.Base64}.apply(t,[]))||(e.exports=n);return{Base64:o.Base64}}(o)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:this)}).call(this,o(2))},10:function(e,t,o){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},11:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return r}));const n=t=>{try{return atob(t)}catch(o){return e.from(t,"base64").toString("ascii")}};function r(e){const t=e.split(".");if(t.length<3||t.length>4||"v2"!==t[0]||"public"!==t[1])throw new Error("Invalid token, only v2.public paseto tokens are supported");const o=n(t[2]),r=(new TextEncoder).encode(o),i=r.slice(0,-64),a=r.slice(-64),s=new TextDecoder("utf-8"),l=JSON.parse(s.decode(i));return l.__signature__=s.decode(a),4==t.length&&(l.footer=n(t[3])),l.exp&&(l.exp=new Date(l.exp)),l.nbf&&(l.nbf=new Date(l.nbf)),l.iat&&(l.iat=new Date(l.iat)),l}}).call(this,o(876).Buffer)},12:function(e,t,o){e.exports=o(884)},2:function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},3:function(e,t,o){"use strict";e.exports=function(e,t){return function(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];return e.apply(t,o)}}},4:function(e,t,o){"use strict";var n=o(0);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,o){if(!t)return e;var i;if(o)i=o(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},5:function(e,t,o){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},6:function(e,t,o){"use strict";(function(t){var n=o(0),r=o(890),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:("undefined"!=typeof XMLHttpRequest?s=o(7):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(s=o(7)),s),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){l.headers[e]=n.merge(i)})),e.exports=l}).call(this,o(889))},7:function(e,t,o){"use strict";var n=o(0),r=o(891),i=o(893),a=o(4),s=o(894),l=o(897),c=o(898),u=o(8);e.exports=function(e){return new Promise((function(t,o){var d=e.data,h=e.headers;n.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(f+":"+m)}var g=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};r(t,o,i),p=null}},p.onabort=function(){p&&(o(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){o(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),o(u(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=(e.withCredentials||c(g))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&n.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),o(e),p=null)})),d||(d=null),p.send(d)}))}},8:function(e,t,o){"use strict";var n=o(892);e.exports=function(e,t,o,r,i){var a=new Error(e);return n(a,t,o,r,i)}},875:function(e,t,o){},876:function(e,t,o){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=o(877),r=o(878),i=o(879);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,o){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,o)}function c(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,o,n){if(t.byteLength,o<0||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===o&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,o):new Uint8Array(t,o,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,o,n):"string"==typeof t?function(e,t,o){"string"==typeof o&&""!==o||(o="utf8");if(!l.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,o),r=(e=s(e,n)).write(t,o);r!==n&&(e=e.slice(0,r));return e}(e,t,o):function(e,t){if(l.isBuffer(t)){var o=0|p(t.length);return 0===(e=s(e,o)).length?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function h(e,t){var o=t.length<0?0:0|p(t.length);e=s(e,o);for(var n=0;n<o;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return B(e).length;default:if(n)return L(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,o);case"utf8":case"utf-8":return A(this,t,o);case"ascii":return E(this,t,o);case"latin1":case"binary":return R(this,t,o);case"base64":return T(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function b(e,t,o,n,r){if(0===e.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=r?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(r)return-1;o=e.length-1}else if(o<0){if(!r)return-1;o=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:y(e,t,o,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):y(e,[t],o,n,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,o,n,r){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,o/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(i=o;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(o+l>s&&(o=s-l),i=o;i>=0;i--){for(var d=!0,h=0;h<l;h++)if(c(e,i+h)!==c(t,h)){d=!1;break}if(d)return i}return-1}function v(e,t,o,n){o=Number(o)||0;var r=e.length-o;n?(n=Number(n))>r&&(n=r):n=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function w(e,t,o,n){return Y(L(t,e.length-o),e,o,n)}function k(e,t,o,n){return Y(function(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}(t),e,o,n)}function S(e,t,o,n){return k(e,t,o,n)}function x(e,t,o,n){return Y(B(t),e,o,n)}function C(e,t,o,n){return Y(function(e,t){for(var o,n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)o=e.charCodeAt(a),n=o>>8,r=o%256,i.push(r),i.push(n);return i}(t,e.length-o),e,o,n)}function T(e,t,o){return 0===t&&o===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,o))}function A(e,t,o){o=Math.min(e.length,o);for(var n=[],r=t;r<o;){var i,a,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=o)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[r+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[r+1],a=e[r+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[r+1],a=e[r+2],s=e[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var o="",n=0;for(;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return o}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,o){return c(null,e,t,o)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,o){return function(e,t,o,n){return u(t),t<=0?s(e,t):void 0!==o?"string"==typeof n?s(e,t).fill(o,n):s(e,t).fill(o):s(e,t)}(null,e,t,o)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,n=t.length,r=0,i=Math.min(o,n);r<i;++r)if(e[r]!==t[r]){o=e[r],n=t[r];break}return o<n?-1:n<o?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var n=l.allocUnsafe(t),r=0;for(o=0;o<e.length;++o){var a=e[o];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",o=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,o,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||o>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=o)return 0;if(n>=r)return-1;if(t>=o)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(n>>>=0),a=(o>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,r),u=e.slice(t,o),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},l.prototype.indexOf=function(e,t,o){return b(this,e,t,o,!0)},l.prototype.lastIndexOf=function(e,t,o){return b(this,e,t,o,!1)},l.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var r=this.length-t;if((void 0===o||o>r)&&(o=r),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return v(this,e,t,o);case"utf8":case"utf-8":return w(this,e,t,o);case"ascii":return k(this,e,t,o);case"latin1":case"binary":return S(this,e,t,o);case"base64":return x(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(127&e[r]);return n}function R(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(e[r]);return n}function P(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var r="",i=t;i<o;++i)r+=j(e[i]);return r}function O(e,t,o){for(var n=e.slice(t,o),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function _(e,t,o){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function $(e,t,o,n,r,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function N(e,t,o,n){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-o,2);r<i;++r)e[o+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function M(e,t,o,n){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-o,4);r<i;++r)e[o+r]=t>>>8*(n?r:3-r)&255}function U(e,t,o,n,r,i){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function D(e,t,o,n,i){return i||U(e,0,o,4),r.write(e,t,o,n,23,4),o+4}function I(e,t,o,n,i){return i||U(e,0,o,8),r.write(e,t,o,n,52,8),o+8}l.prototype.slice=function(e,t){var o,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;o=new l(r,void 0);for(var i=0;i<r;++i)o[i]=this[i+e]}return o},l.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||_(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},l.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||_(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||_(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||_(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||_(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||_(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||_(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||_(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt16BE=function(e,t){t||_(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt32LE=function(e,t){return t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||_(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||_(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||_(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||_(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||$(this,e,t,o,Math.pow(2,8*o)-1,0);var r=1,i=0;for(this[t]=255&e;++i<o&&(r*=256);)this[t+i]=e/r&255;return t+o},l.prototype.writeUIntBE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||$(this,e,t,o,Math.pow(2,8*o)-1,0);var r=o-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+o},l.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*o-1);$(this,e,t,o,r-1,-r)}var i=0,a=1,s=0;for(this[t]=255&e;++i<o&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},l.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*o-1);$(this,e,t,o,r-1,-r)}var i=o-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},l.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||$(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,o){return D(this,e,t,!0,o)},l.prototype.writeFloatBE=function(e,t,o){return D(this,e,t,!1,o)},l.prototype.writeDoubleLE=function(e,t,o){return I(this,e,t,!0,o)},l.prototype.writeDoubleBE=function(e,t,o){return I(this,e,t,!1,o)},l.prototype.copy=function(e,t,o,n){if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var r,i=n-o;if(this===e&&o<t&&t<n)for(r=i-1;r>=0;--r)e[r+t]=this[r+o];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+i),t);return i},l.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;var i;if(t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(i=t;i<o;++i)this[i]=e;else{var a=l.isBuffer(e)?e:L(new l(e,n).toString()),s=a.length;for(i=0;i<o-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function L(e,t){var o;t=t||1/0;for(var n=e.length,r=null,i=[],a=0;a<n;++a){if((o=e.charCodeAt(a))>55295&&o<57344){if(!r){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=o;continue}if(o<56320){(t-=3)>-1&&i.push(239,191,189),r=o;continue}o=65536+(r-55296<<10|o-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,o<128){if((t-=1)<0)break;i.push(o)}else if(o<2048){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function B(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,o,n){for(var r=0;r<n&&!(r+o>=t.length||r>=e.length);++r)t[r+o]=e[r];return r}}).call(this,o(2))},877:function(e,t,o){"use strict";t.byteLength=function(e){var t=c(e),o=t[0],n=t[1];return 3*(o+n)/4-n},t.toByteArray=function(e){var t,o,n=c(e),a=n[0],s=n[1],l=new i(function(e,t,o){return 3*(t+o)/4-o}(0,a,s)),u=0,d=s>0?a-4:a;for(o=0;o<d;o+=4)t=r[e.charCodeAt(o)]<<18|r[e.charCodeAt(o+1)]<<12|r[e.charCodeAt(o+2)]<<6|r[e.charCodeAt(o+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(o)]<<2|r[e.charCodeAt(o+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(o)]<<10|r[e.charCodeAt(o+1)]<<4|r[e.charCodeAt(o+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,o=e.length,r=o%3,i=[],a=0,s=o-r;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));1===r?(t=e[o-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[o-2]<<8)+e[o-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function u(e,t,o){for(var r,i,a=[],s=t;s<o;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=r)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},878:function(e,t){t.read=function(e,t,o,n,r){var i,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=o?r-1:0,h=o?-1:1,p=e[t+d];for(d+=h,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=h,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=c}return(p?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,o,n,r,i){var a,s,l,c=8*i-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[o+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[o+p]=255&a,p+=f,a/=256,c-=8);e[o+p-f]|=128*m}},879:function(e,t){var o={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},880:function(e,t,o){"use strict";o.r(t),t.default='# %% [markdown]\n# Introducing Starboard Notebook\nStarboard brings cell-by-cell notebooks to the browser, no code is running on the backend here!\nIt\'s probably the quickest way to visualize some data with interactivity, do some prototyping, or build a rudimentary dashboard.\n\n#### Some features \n* Mix Markdown, $\\LaTeX$, HTML, CSS, Javascript, and Python.\n* The file format is a plaintext file, which plays nice with version control systems like git.\n* Runs entirely in your browser, everything is static: no server, no setup and no build step.\n* You can embed a fully functional notebook on your website.\n\nLet\'s see it in action!\n\n> Tip: Press the ▶ Play button on the left to run a cell\'s code.\n\n# %% [javascript]\n// You write vanilla Javascript\nconst greeting = "Hello world!";\n\n// The last statement in a cell will be displayed if it is not undefined.\ngreeting\n# %% [html]\n<div id="my-element" style="background-color: #ddf; padding: 0 1em;">\n  <b>You can mix and match different types of cells</b>\n</div>\n# %% [javascript]\n// Your browser does the work, so stuff like this just works\ndocument.querySelector("#my-element").style.backgroundColor = "#fdf";\n\n// There\'s a little bit of (optional) magic, if you use `var` your variable will be available globally.\nvar magic = "I can print this in the next cell!";\n\nconst titleElement = document.createElement("h3");\ntitleElement.innerText = "Great!"\n\n// If you return a HTML element and it will be appended below\ntitleElement\n# %% [javascript]\n// Poof!\nconsole.log(magic);\n# %% [javascript]\n// We can import code dynamically, top level await is supported.\nconst {default: Confetti} = await import(\'https://cdn.skypack.dev/canvas-confetti\');\n\nfunction fireConfetti(event) {\n    const x = event.clientX / document.body.clientWidth;\n    const y = event.clientY / document.body.clientHeight;\n    Confetti({origin: {x, y}});\n}\n\n// lit templating is built-in\nhtml`<button @click=${fireConfetti}>Fire Confetti 🎉</button>`\n# %% [esm]\n// There is also an ES module cell type, any variable or function you export is available in the global scope\n// In ES Modules you can use top-level imports like you are probably used to\nimport twas from "https://cdn.skypack.dev/twas"\n\n// This value is now available in any cell as it is exported\nexport const javascriptInventionDate = Date.parse(\'04 Dec 1995 00:12:00 GMT\')\n\n// The default export gets printed below and used as cell return value\nexport default "Javascript was invented " + twas(javascriptInventionDate)\n# %% [css]\n/* The editor itself also runs in the sandbox, you can modify or extend it however you wish as you go.\n\nLet\'s make the editor a bit more funky by adding some CSS, changes are applied immediately */\n\nstarboard-cell:focus-within {\n    background-color: #fff;  /* Change this to #faf */\n    \n    /* Uncomment the next line for a dark mode effect! */\n    /* filter: invert() hue-rotate(180deg); */\n    \n}\n# %% [javascript]\n// Finally, let\'s create a tiny API based app in just a few lines: an advice button.\nconst adviceElement = document.createElement("span");\n\nasync function onClick(event) {\n    // Example response: {"slip": { "id": 163, "advice": "Big things have small beginnings."}}\n    const data = await (await fetch(`https://api.adviceslip.com/advice`, {cache: "no-store"})).json();\n    adviceElement.innerText = data.slip.advice;\n\n    // Uncomment to make it fire confetti too\n    // fireConfetti(event);\n}\n\nhtml`\n    <button @click=${onClick}>Give me advice</button>\n    ${adviceElement}\n`\n# %% [markdown]\nThat\'s it! I hope that both the advice and Starboard are useful for you.\n\n### Next steps\n\n* Check out the other example notebooks, scroll back up! There\'s one that showcases Python support.\n* Star [starboard-notebook](https://github.com/gzuidhof/starboard-notebook) on Github, please :).\n* [**Sign up**](https://starboard.gg/signup) to create notebooks that can be instantly shared, or create an [offline-only notebook](https://starboard.gg/dashboard/new), or embed Starboard into your own web app!\n'},881:function(e,t,o){"use strict";o.r(t),t.default='# %% [markdown]\n# 💹 Visualizing Exchange Rate Data\n\nIn this notebook we will visualize the US Dollar to Euro exchange rate using the [**exchangerate.host**](https://exchangerate.host/) API.\n\n\nAfter that we will also create a simple currency calculator.\n\n\n> Tip: Press the ▶ Play button on the left to run a cell.\n# %% [javascript]\nconst today = new Date().toISOString().slice(0,10); // Today in yyyy-mm-dd format\nconst data = await fetch(`https://api.exchangerate.host/timeseries?start_date=2020-01-01&end_date=${today}`);\n\n// var puts it in the global scope (so we can use it in the next cell)\nvar jsonData = await data.json();\njsonData\n# %% [javascript]\n// Chart.js creates a global `Chart` object when it is loaded.\nawait import("https://unpkg.com/chart.js@2.9.3/dist/Chart.bundle.min.js");\n\nconst canvas = document.createElement("canvas");\nconst currencyChart = new Chart(canvas.getContext("2d"),\n    {\n        type: "line",\n        data: {\n            labels: Object.keys(jsonData.rates),\n            datasets: [{\n                label: \'Euro - US Dollar\',\n                data: Object.values(jsonData.rates).map(c => c.USD),\n                borderColor: "#5558ff",\n                backgroundColor: "#5558ff80",\n            }],\n        },\n    },\n);\n\ncanvas\n# %% [markdown]\n## Creating a currency conversion widget\nFirst let\'s insert some vanilla CSS and HTML for our widget.\n# %% [html]\n<style>\n    .conversion-widget {\n        padding: 1em;\n    }\n    .conversion-widget button {\n        background-color: #5558ff;\n        border: 0;\n        padding: 4px 8px;\n        border-radius: 3px;\n        color: #fff;\n    }\n    .conversion-widget .result {\n        margin: 6px;\n        border: 1px solid #5558ff;\n        border-radius: 6px;\n        padding: 0 8px;\n    }\n</style>\n\n<form class="conversion-widget" onsubmit="event.preventDefault()">\n    <input name="amount" type="number" min="0.00" placeholder="Amount in EUR" value="100"/>\n    <button>View conversion rates</button>\n    <div id="conversion-result" style="display: flex; flex-wrap: wrap;"></div>\n</form>\n# %% [markdown]\nWhen we press the button above nothing happens yet, we can add some Javascript to make it work.\n\n\nWe will use the built in [lit-html](https://lit-html.polymer-project.org/) support to easily render the results into a HTML structure.\n\n# %% [javascript]\nconst formElement = document.querySelector(".conversion-widget");\nconst resultElement = document.querySelector("#conversion-result");\nconst conversionRateTemplate = ([currencySymbol, value]) => html`\n    <div class="result">\n        <b>${currencySymbol}</b> <span style="font-size: 1.5em">${value}</span>\n    </div>\n`;\n\nformElement.onsubmit = async (e) => {\n    e.preventDefault();\n    const amount = new FormData(formElement).get("amount");\n    const data = await fetch(`https://api.exchangerate.host/latest?source=ecb&places=2&amount=${amount}`).then(r => r.json());\n    const template = Object.entries(data.rates).map(conversionRateTemplate);\n    lit.render(template, resultElement);\n};\n\nconsole.warn(`Scroll back up and click the "View conversion rates" button again!`);\n'},882:function(e,t,o){"use strict";o.r(t),t.default='# %% [markdown]\n# Interactive Procedural Art\n\nIn this notebook we\'ll create an interactive artwork using P5.js, the Javascript version of Processing.\n\n> p5.js is a JavaScript library for creative coding, with a focus on making coding accessible and inclusive for artists, designers, educators, beginners, and anyone else!\n\n# %%--- [javascript]\n# properties:\n#   run_on_load: true\n# ---%%\n// Import the p5 library, see the docs here: https://p5js.org/\nawait import("https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.min.js");\nconsole.log("Ready!")\n# %% [javascript]\n// Based on the Kaleidoscope example found here https://p5js.org/examples/interaction-kaleidoscope.html\nconst sketch = function(p) {\n  const width = height = document.body.scrollWidth - 100;\n\n  // Symmetry corresponding to the number of reflections. Change the number for different number of reflections \n  // Try changing this!\n  const symmetry = 12;   \n  const angle = 360 / symmetry;\n  \n\n  p.setup = () => { \n    p.createCanvas(width, height);\n    p.angleMode(p.DEGREES);\n    p.background(20);\n    // Default to a bright stroke color\n    p.stroke(200)\n  }\n\n  p.touchMoved = (event) => {\n    // Prevents scrolling on phones when drawing\n    if (event.target.classList.contains("p5Canvas")) {\n        event.preventDefault()\n        return false;\n    }\n  }\n\n  p.draw = () => {\n    p.translate(width / 2, height / 2);\n\n    if (p.mouseX > 0 && p.mouseX < width && p.mouseY > 0 && p.mouseY < height) {\n      const mx = p.mouseX - width / 2;\n      const my = p.mouseY - height / 2;\n      const pmx = p.pmouseX - width / 2;\n      const pmy = p.pmouseY - height / 2;\n\n      const speedX = p.abs(p.winMouseX - p.pwinMouseX);\n      const speedY = p.abs(p.winMouseY - p.pwinMouseY);\n      const speed = speedX + speedY;\n\n      if (p.mouseIsPressed) {\n        for (let i = 0; i < symmetry; i++) {\n          p.rotate(angle);\n\n          // The faster you move while drawing the thicker the line\n          p.strokeWeight((speedX + speedY)/10);\n\n          // The colors change based on horizontal and vertical speed individually\n          // Try changing or commenting this line!\n          p.stroke(speedX*6, speedY*6, 160)\n          p.line(mx, my, pmx, pmy);\n          p.push();\n          p.scale(1, -1);\n          p.line(mx, my, pmx, pmy);\n          p.pop();\n        }\n      }\n    }\n  }\n};\n\n\nconst instance = new p5(sketch);\ninstance.canvas.style.margin = "1em"\ninstance.canvas\n# %% [markdown]\nDraw on the black canvas above! On some mobile devices (iPhones especially) it may not work well and scroll instead, sorry about that.'},883:function(e,t,o){"use strict";o.r(t),t.default="# %% [markdown]\n# 🐍 Python support in Starboard Notebook\n\nPython support is built on top of [Pyodide](https://hacks.mozilla.org/2019/04/pyodide-bringing-the-scientific-python-stack-to-the-browser/), a WebAssembly powered Python runtime in the browser that supports most of the common scientific packages such as Numpy, Pandas and Matplotlib.\n\nUsing Starboard you can create a Python notebook without any backend server.\n\n> New to Starboard? Check out the [Starboard introduction notebook](https://starboard.gg/#introduction) for an overview of Starboard itself.\n# %% [python]\n# When you first run this cell it will load the Python runtime.\n# This runtime is a few megabytes in size. Your browser should cache it, so the next time it should load faster.\nmessage = \"Hello Python!\"\nprint(message)\n\nx = [i**2 for i in range(5)]\nx\n# %% [js]\n// Python variables in global scope are automatically converted to Javascript variables.\n// They can be accessed from the pyodide.globals object:\nconsole.log(pyodide.globals.get(\"message\"));\n\n// Aso we can import Javascript variables into Python, let's try that\nvar myFavoriteNumber = 22;\n# %% [python]\nfrom js import document, myFavoriteNumber\n\nel = document.createElement(\"h3\")\nel.innerText = \"My favorite number is \" + str(myFavoriteNumber)\n\n# Note we created this HTML element in Python!\nel\n# %% [markdown]\n## Visualizing car data using pandas and matplotlib\n\nAnalyzing, explaining and visualizing data is a great usecase for Starboard notebooks.\n\nIn this example we'll load datasets from [Selva Prabhakaran's ML dataset repository on Github](https://github.com/selva86/datasets) and visualize them. The code below is based on examples from their matplotlib examples [blog post](https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/).\n\n> Matplotlib plots are not really made for mobile devices, interactivity can be a bit buggy and they may overflow.\n\n> Consider viewing below examples on a desktop.\n# %% [python]\n# You can import many of the common scientific Python packages such as numpy or pandas\n# A full list can be found here https://github.com/iodide-project/pyodide/tree/master/packages\n# Packages are downloaded and installed dynamically, they are cached afterwards.\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport pyodide\n\nurl = \"https://raw.githubusercontent.com/selva86/datasets/master/mtcars.csv\"\n\n# Prepare Data\ndf = pd.read_csv(pyodide.open_url(url))\n\nx = df.loc[:, ['mpg']]\ndf['mpg_z'] = (x - x.mean())/x.std()\ndf['colors'] = ['red' if x < 0 else 'green' for x in df['mpg_z']]\ndf.sort_values('mpg_z', inplace=True)\ndf.reset_index(inplace=True)\n\ndf\n# %% [python]\n# Draw plot\nplt.figure(figsize=(10,8), dpi= 80)\nplt.hlines(y=df.index, xmin=0, xmax=df.mpg_z, color=df.colors, alpha=0.4, linewidth=5)\n\n# Decorations\nplt.gca().set(ylabel='$Model$', xlabel='$Mileage$ (standard deviations)')\nplt.yticks(df.index, df.cars, fontsize=8)\nplt.title('Diverging Bars of Car Mileage', fontdict={'size':16})\nplt.grid(linestyle='--', alpha=0.5)\nplt.show()\n# %% [python]\n# By using micropip we can install additional packages that don't ship with Pyodide by default.\n# Most pure python package work in the browser, here we install \"squarify\"\nimport micropip\nmicropip.install(\"squarify\")\n# %% [python]\nimport squarify \n\nurl = \"https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv\"\n\ndf = pd.read_csv(pyodide.open_url(url))\ndf = df.groupby('class').size().reset_index(name='counts')\nlabels = df.apply(lambda x: str(x[0]) + \"\\n (\" + str(x[1]) + \")\", axis=1)\nsizes = df['counts'].values.tolist()\ncolors = [plt.cm.Spectral(i/float(len(labels))) for i in range(len(labels))]\n\n# Draw Plot\nplt.figure(figsize=(8,5), dpi= 80)\nsquarify.plot(sizes=sizes, label=labels, color=colors, alpha=.8)\n\nplt.title('Treemap of Vehicle Class')\nplt.axis('off')\nplt.show()\n"},884:function(e,t,o){"use strict";var n=o(0),r=o(3),i=o(885),a=o(9);function s(e){var t=new i(e),o=r(i.prototype.request,t);return n.extend(o,i.prototype,t),n.extend(o,t),o}var l=s(o(6));l.Axios=i,l.create=function(e){return s(a(l.defaults,e))},l.Cancel=o(10),l.CancelToken=o(899),l.isCancel=o(5),l.all=function(e){return Promise.all(e)},l.spread=o(900),l.isAxiosError=o(901),e.exports=l,e.exports.default=l},885:function(e,t,o){"use strict";var n=o(0),r=o(4),i=o(886),a=o(887),s=o(9);function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],o=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)o=o.then(t.shift(),t.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,o){return this.request(s(o||{},{method:e,url:t,data:(o||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,o,n){return this.request(s(n||{},{method:e,url:t,data:o}))}})),e.exports=l},886:function(e,t,o){"use strict";var n=o(0);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},887:function(e,t,o){"use strict";var n=o(0),r=o(888),i=o(5),a=o(6);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},888:function(e,t,o){"use strict";var n=o(0);e.exports=function(e,t,o){return n.forEach(o,(function(o){e=o(e,t)})),e}},889:function(e,t){var o,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(e){o=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},890:function(e,t,o){"use strict";var n=o(0);e.exports=function(e,t){n.forEach(e,(function(o,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[n])}))}},891:function(e,t,o){"use strict";var n=o(8);e.exports=function(e,t,o){var r=o.config.validateStatus;o.status&&r&&!r(o.status)?t(n("Request failed with status code "+o.status,o.config,null,o.request,o)):e(o)}},892:function(e,t,o){"use strict";e.exports=function(e,t,o,n,r){return e.config=t,o&&(e.code=o),e.request=n,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},893:function(e,t,o){"use strict";var n=o(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,o,r,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),n.isString(r)&&s.push("path="+r),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},894:function(e,t,o){"use strict";var n=o(895),r=o(896);e.exports=function(e,t){return e&&!n(t)?r(e,t):t}},895:function(e,t,o){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},896:function(e,t,o){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},897:function(e,t,o){"use strict";var n=o(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,o,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),o=n.trim(e.substr(i+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([o]):a[t]?a[t]+", "+o:o}})),a):a}},898:function(e,t,o){"use strict";var n=o(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function r(e){var n=e;return t&&(o.setAttribute("href",n),n=o.href),o.setAttribute("href",n),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return e=r(window.location.href),function(t){var o=n.isString(t)?r(t):t;return o.protocol===e.protocol&&o.host===e.host}}():function(){return!0}},899:function(e,t,o){"use strict";var n=o(10);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var o=this;e((function(e){o.reason||(o.reason=new n(e),t(o.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},9:function(e,t,o){"use strict";var n=o(0);e.exports=function(e,t){t=t||{};var o={},r=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(r){n.isUndefined(t[r])?n.isUndefined(e[r])||(o[r]=l(void 0,e[r])):o[r]=l(e[r],t[r])}n.forEach(r,(function(e){n.isUndefined(t[e])||(o[e]=l(void 0,t[e]))})),n.forEach(i,c),n.forEach(a,(function(r){n.isUndefined(t[r])?n.isUndefined(e[r])||(o[r]=l(void 0,e[r])):o[r]=l(void 0,t[r])})),n.forEach(s,(function(n){n in t?o[n]=l(e[n],t[n]):n in e&&(o[n]=l(void 0,e[n]))}));var u=r.concat(i).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return n.forEach(d,c),o}},900:function(e,t,o){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},901:function(e,t,o){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},902:function(e,t,o){"use strict";o.r(t);o(875),o.p,o.p,o.p;function n(e,t){void 0===t&&(t={});for(var o=function(e){for(var t=[],o=0;o<e.length;){var n=e[o];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:o,value:e[o++]});else{var r=1,i="";if("?"===e[s=o+1])throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0===--r){s++;break}}else if("("===e[s]&&(r++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at "+s);i+=e[s++]}else i+=e[s++]+e[s++];if(r)throw new TypeError("Unbalanced pattern at "+o);if(!i)throw new TypeError("Missing pattern at "+o);t.push({type:"PATTERN",index:o,value:i}),o=s}else{for(var a="",s=o+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;a+=e[s++]}if(!a)throw new TypeError("Missing parameter name at "+o);t.push({type:"NAME",index:o,value:a}),o=s}else t.push({type:"CLOSE",index:o,value:e[o++]});else t.push({type:"OPEN",index:o,value:e[o++]});else t.push({type:"ESCAPED_CHAR",index:o++,value:e[o++]});else t.push({type:"MODIFIER",index:o,value:e[o++]})}return t.push({type:"END",index:o,value:""}),t}(e),n=t.prefixes,r=void 0===n?"./":n,a="[^"+i(t.delimiter||"/#?")+"]+?",s=[],l=0,c=0,u="",d=function(e){if(c<o.length&&o[c].type===e)return o[c++].value},h=function(e){var t=d(e);if(void 0!==t)return t;var n=o[c],r=n.type,i=n.index;throw new TypeError("Unexpected "+r+" at "+i+", expected "+e)},p=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};c<o.length;){var f=d("CHAR"),m=d("NAME"),g=d("PATTERN");if(m||g){var b=f||"";-1===r.indexOf(b)&&(u+=b,b=""),u&&(s.push(u),u=""),s.push({name:m||l++,prefix:b,suffix:"",pattern:g||a,modifier:d("MODIFIER")||""})}else{var y=f||d("ESCAPED_CHAR");if(y)u+=y;else if(u&&(s.push(u),u=""),d("OPEN")){b=p();var v=d("NAME")||"",w=d("PATTERN")||"",k=p();h("CLOSE"),s.push({name:v||(w?l++:""),pattern:v&&!w?a:w,prefix:b,suffix:k,modifier:d("MODIFIER")||""})}else h("END")}}return s}function r(e,t){var o=[];return function(e,t,o){void 0===o&&(o={});var n=o.decode,r=void 0===n?function(e){return e}:n;return function(o){var n=e.exec(o);if(!n)return!1;for(var i=n[0],a=n.index,s=Object.create(null),l=function(e){if(void 0===n[e])return"continue";var o=t[e-1];"*"===o.modifier||"+"===o.modifier?s[o.name]=n[e].split(o.prefix+o.suffix).map((function(e){return r(e,o)})):s[o.name]=r(n[e],o)},c=1;c<n.length;c++)l(c);return{path:i,index:a,params:s}}}(l(e,o,t),o,t)}function i(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function a(e){return e&&e.sensitive?"":"i"}function s(e,t,o){return function(e,t,o){void 0===o&&(o={});for(var n=o.strict,r=void 0!==n&&n,s=o.start,l=void 0===s||s,c=o.end,u=void 0===c||c,d=o.encode,h=void 0===d?function(e){return e}:d,p="["+i(o.endsWith||"")+"]|$",f="["+i(o.delimiter||"/#?")+"]",m=l?"^":"",g=0,b=e;g<b.length;g++){var y=b[g];if("string"==typeof y)m+=i(h(y));else{var v=i(h(y.prefix)),w=i(h(y.suffix));if(y.pattern)if(t&&t.push(y),v||w)if("+"===y.modifier||"*"===y.modifier){var k="*"===y.modifier?"?":"";m+="(?:"+v+"((?:"+y.pattern+")(?:"+w+v+"(?:"+y.pattern+"))*)"+w+")"+k}else m+="(?:"+v+"("+y.pattern+")"+w+")"+y.modifier;else m+="("+y.pattern+")"+y.modifier;else m+="(?:"+v+w+")"+y.modifier}}if(u)r||(m+=f+"?"),m+=o.endsWith?"(?="+p+")":"$";else{var S=e[e.length-1],x="string"==typeof S?f.indexOf(S[S.length-1])>-1:void 0===S;r||(m+="(?:"+f+"(?="+p+"))?"),x||(m+="(?="+f+"|"+p+")")}return new RegExp(m,a(o))}(n(e,o),t,o)}function l(e,t,o){return e instanceof RegExp?function(e,t){if(!t)return e;var o=e.source.match(/\((?!\?)/g);if(o)for(var n=0;n<o.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,o){var n=e.map((function(e){return l(e,t,o).source}));return new RegExp("(?:"+n.join("|")+")",a(o))}(e,t,o):s(e,t,o)}
/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */function c(e){try{return decodeURIComponent(e)}catch(t){return e}}function u(e,t){if("function"==typeof e.route.action)return e.route.action(e,t)}var d=function(){function e(e,t){if(!e||"object"!=typeof e)throw new TypeError("Invalid routes");this.options=Object.assign({decode:c},t),this.baseUrl=this.options.baseUrl||"",this.root=Array.isArray(e)?{path:"",children:e,parent:null}:e,this.root.parent=null}return e.prototype.resolve=function(e){var t,o,n=this,i=Object.assign({router:this},this.options.context,{},"string"==typeof e?{pathname:e}:e),a=function e(t,o,n,i,a){var s,l,c=0;return{next:function(u){if(t===u)return{done:!0,value:!1};if(!s){var d=t,h=!d.children;if(d.match||(d.match=r(d.path||"",Object.assign({end:h},n))),s=d.match(i)){var p=s.path;return s.path=h||"/"!==p.charAt(p.length-1)?p:p.substr(1),s.params=Object.assign({},a,{},s.params),{done:!1,value:{route:t,baseUrl:o,path:s.path,params:s.params}}}}if(s&&t.children)for(;c<t.children.length;){if(!l){var f=t.children[c];f.parent=t,l=e(f,o+s.path,n,i.substr(s.path.length),s.params)}var m=l.next(u);if(!m.done)return{done:!1,value:m.value};l=null,c++}return{done:!0,value:!1}}}}(this.root,this.baseUrl,this.options,i.pathname.substr(this.baseUrl.length)),s=this.options.resolveRoute||u,l=i;function c(e,n,r){void 0===n&&(n=!t.done&&t.value.route);var u=null===r&&!t.done&&t.value.route;if(t=o||a.next(u),o=null,!e&&(t.done||!function(e,t){for(var o=t;o;)if((o=o.parent)===e)return!0;return!1}(n,t.value.route)))return o=t,Promise.resolve(null);if(t.done){var d=new Error("Route not found");return d.status=404,Promise.reject(d)}return l=Object.assign({},i,{},t.value),Promise.resolve(s(l,t.value.params)).then((function(t){return null!=t?t:c(e,n,t)}))}return i.next=c,Promise.resolve().then((function(){return c(!0,n.root)})).catch((function(e){if(n.options.errorHandler)return n.options.errorHandler(e,l);throw e}))},e}();
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const h=new WeakMap,p=e=>(...t)=>{const o=e(...t);return h.set(o,!0),o},f=e=>"function"==typeof e&&h.has(e),m=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,g=(e,t,o=null)=>{for(;t!==o;){const o=t.nextSibling;e.removeChild(t),t=o}},b={},y={},v=`{{lit-${String(Math.random()).slice(2)}}}`,w=`\x3c!--${v}--\x3e`,k=new RegExp(`${v}|${w}`);class S{constructor(e,t){this.parts=[],this.element=t;const o=[],n=[],r=document.createTreeWalker(t.content,133,null,!1);let i=0,a=-1,s=0;const{strings:l,values:{length:c}}=e;for(;s<c;){const e=r.nextNode();if(null!==e){if(a++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:o}=t;let n=0;for(let e=0;e<o;e++)x(t[e].name,"$lit$")&&n++;for(;n-- >0;){const t=l[s],o=A.exec(t)[2],n=o.toLowerCase()+"$lit$",r=e.getAttribute(n);e.removeAttribute(n);const i=r.split(k);this.parts.push({type:"attribute",index:a,name:o,strings:i}),s+=i.length-1}}"TEMPLATE"===e.tagName&&(n.push(e),r.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(v)>=0){const n=e.parentNode,r=t.split(k),i=r.length-1;for(let t=0;t<i;t++){let o,i=r[t];if(""===i)o=T();else{const e=A.exec(i);null!==e&&x(e[2],"$lit$")&&(i=i.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),o=document.createTextNode(i)}n.insertBefore(o,e),this.parts.push({type:"node",index:++a})}""===r[i]?(n.insertBefore(T(),e),o.push(e)):e.data=r[i],s+=i}}else if(8===e.nodeType)if(e.data===v){const t=e.parentNode;null!==e.previousSibling&&a!==i||(a++,t.insertBefore(T(),e)),i=a,this.parts.push({type:"node",index:a}),null===e.nextSibling?e.data="":(o.push(e),a--),s++}else{let t=-1;for(;-1!==(t=e.data.indexOf(v,t+1));)this.parts.push({type:"node",index:-1}),s++}}else r.currentNode=n.pop()}for(const e of o)e.parentNode.removeChild(e)}}const x=(e,t)=>{const o=e.length-t.length;return o>=0&&e.slice(o)===t},C=e=>-1!==e.index,T=()=>document.createComment(""),A=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class E{constructor(e,t,o){this.__parts=[],this.template=e,this.processor=t,this.options=o}update(e){let t=0;for(const o of this.__parts)void 0!==o&&o.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=m?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],o=this.template.parts,n=document.createTreeWalker(e,133,null,!1);let r,i=0,a=0,s=n.nextNode();for(;i<o.length;)if(r=o[i],C(r)){for(;a<r.index;)a++,"TEMPLATE"===s.nodeName&&(t.push(s),n.currentNode=s.content),null===(s=n.nextNode())&&(n.currentNode=t.pop(),s=n.nextNode());if("node"===r.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(s.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(s,r.name,r.strings,this.options));i++}else this.__parts.push(void 0),i++;return m&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const R=` ${v} `;class P{constructor(e,t,o,n){this.strings=e,this.values=t,this.type=o,this.processor=n}getHTML(){const e=this.strings.length-1;let t="",o=!1;for(let n=0;n<e;n++){const e=this.strings[n],r=e.lastIndexOf("\x3c!--");o=(r>-1||o)&&-1===e.indexOf("--\x3e",r+1);const i=A.exec(e);t+=null===i?e+(o?R:w):e.substr(0,i.index)+i[1]+i[2]+"$lit$"+i[3]+v}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class O extends P{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,o=t.firstChild;return t.removeChild(o),((e,t,o=null,n=null)=>{for(;t!==o;){const o=t.nextSibling;e.insertBefore(t,n),t=o}})(t,o.firstChild),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const _=e=>null===e||!("object"==typeof e||"function"==typeof e),$=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class N{constructor(e,t,o){this.dirty=!0,this.element=e,this.name=t,this.strings=o,this.parts=[];for(let e=0;e<o.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new M(this)}_getValue(){const e=this.strings,t=e.length-1;let o="";for(let n=0;n<t;n++){o+=e[n];const t=this.parts[n];if(void 0!==t){const e=t.value;if(_(e)||!$(e))o+="string"==typeof e?e:String(e);else for(const t of e)o+="string"==typeof t?t:String(t)}}return o+=e[t],o}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class M{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===b||_(e)&&e===this.value||(this.value=e,f(e)||(this.committer.dirty=!0))}commit(){for(;f(this.value);){const e=this.value;this.value=b,e(this)}this.value!==b&&this.committer.commit()}}class U{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(T()),this.endNode=e.appendChild(T())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=T()),e.__insert(this.endNode=T())}insertAfterPart(e){e.__insert(this.startNode=T()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=b,e(this)}const e=this.__pendingValue;e!==b&&(_(e)?e!==this.value&&this.__commitText(e):e instanceof P?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):$(e)?this.__commitIterable(e):e===y?(this.value=y,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,o="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=o:this.__commitNode(document.createTextNode(o)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof E&&this.value.template===t)this.value.update(e.values);else{const o=new E(t,e.processor,this.options),n=o._clone();o.update(e.values),this.__commitNode(n),this.value=o}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let o,n=0;for(const r of e)o=t[n],void 0===o&&(o=new U(this.options),t.push(o),0===n?o.appendIntoPart(this):o.insertAfterPart(t[n-1])),o.setValue(r),o.commit(),n++;n<t.length&&(t.length=n,this.clear(o&&o.endNode))}clear(e=this.startNode){g(this.startNode.parentNode,e.nextSibling,this.endNode)}}class D{constructor(e,t,o){if(this.value=void 0,this.__pendingValue=void 0,2!==o.length||""!==o[0]||""!==o[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=o}setValue(e){this.__pendingValue=e}commit(){for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=b,e(this)}if(this.__pendingValue===b)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=b}}class I extends N{constructor(e,t,o){super(e,t,o),this.single=2===o.length&&""===o[0]&&""===o[1]}_createPart(){return new F(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class F extends M{}let j=!1;try{const e={get capture(){return j=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class L{constructor(e,t,o){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=o,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=b,e(this)}if(this.__pendingValue===b)return;const e=this.__pendingValue,t=this.value,o=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),n=null!=e&&(null==t||o);o&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),n&&(this.__options=B(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=b}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const B=e=>e&&(j?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const Y=new class{handleAttributeExpressions(e,t,o,n){const r=t[0];if("."===r){return new I(e,t.slice(1),o).parts}return"@"===r?[new L(e,t.slice(1),n.eventContext)]:"?"===r?[new D(e,t.slice(1),o)]:new N(e,t,o).parts}handleTextExpression(e){return new U(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function z(e){let t=q.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},q.set(e.type,t));let o=t.stringsArray.get(e.strings);if(void 0!==o)return o;const n=e.strings.join(v);return o=t.keyString.get(n),void 0===o&&(o=new S(e,e.getTemplateElement()),t.keyString.set(n,o)),t.stringsArray.set(e.strings,o),o}const q=new Map,H=new WeakMap,V=(e,t,o)=>{let n=H.get(t);void 0===n&&(g(t,t.firstChild),H.set(t,n=new U(Object.assign({templateFactory:z},o))),n.appendInto(t)),n.setValue(e),n.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const W=(e,...t)=>new P(e,t,"html",Y),J=(e,...t)=>new O(e,t,"svg",Y)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;function G(e,t){const{element:{content:o},parts:n}=e,r=document.createTreeWalker(o,133,null,!1);let i=X(n),a=n[i],s=-1,l=0;const c=[];let u=null;for(;r.nextNode();){s++;const e=r.currentNode;for(e.previousSibling===u&&(u=null),t.has(e)&&(c.push(e),null===u&&(u=e)),null!==u&&l++;void 0!==a&&a.index===s;)a.index=null!==u?-1:a.index-l,i=X(n,i),a=n[i]}c.forEach(e=>e.parentNode.removeChild(e))}const K=e=>{let t=11===e.nodeType?0:1;const o=document.createTreeWalker(e,133,null,!1);for(;o.nextNode();)t++;return t},X=(e,t=-1)=>{for(let o=t+1;o<e.length;o++){const t=e[o];if(C(t))return o}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const Q=(e,t)=>`${e}--${t}`;let Z=!0;void 0===window.ShadyCSS?Z=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Z=!1);const ee=e=>t=>{const o=Q(t.type,e);let n=q.get(o);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},q.set(o,n));let r=n.stringsArray.get(t.strings);if(void 0!==r)return r;const i=t.strings.join(v);if(r=n.keyString.get(i),void 0===r){const o=t.getTemplateElement();Z&&window.ShadyCSS.prepareTemplateDom(o,e),r=new S(t,o),n.keyString.set(i,r)}return n.stringsArray.set(t.strings,r),r},te=["html","svg"],oe=new Set,ne=(e,t,o)=>{oe.add(e);const n=o?o.element:document.createElement("template"),r=t.querySelectorAll("style"),{length:i}=r;if(0===i)return void window.ShadyCSS.prepareTemplateStyles(n,e);const a=document.createElement("style");for(let e=0;e<i;e++){const t=r[e];t.parentNode.removeChild(t),a.textContent+=t.textContent}(e=>{te.forEach(t=>{const o=q.get(Q(t,e));void 0!==o&&o.keyString.forEach(e=>{const{element:{content:t}}=e,o=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{o.add(e)}),G(e,o)})})})(e);const s=n.content;o?function(e,t,o=null){const{element:{content:n},parts:r}=e;if(null==o)return void n.appendChild(t);const i=document.createTreeWalker(n,133,null,!1);let a=X(r),s=0,l=-1;for(;i.nextNode();){for(l++,i.currentNode===o&&(s=K(t),o.parentNode.insertBefore(t,o));-1!==a&&r[a].index===l;){if(s>0){for(;-1!==a;)r[a].index+=s,a=X(r,a);return}a=X(r,a)}}}(o,a,s.firstChild):s.insertBefore(a,s.firstChild),window.ShadyCSS.prepareTemplateStyles(n,e);const l=s.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(o){s.insertBefore(a,s.firstChild);const e=new Set;e.add(a),G(o,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const re={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},ie=(e,t)=>t!==e&&(t==t||e==e),ae={attribute:!0,type:String,converter:re,reflect:!1,hasChanged:ie};class se extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,o)=>{const n=this._attributeNameForProperty(o,t);void 0!==n&&(this._attributeToPropertyMap.set(n,o),e.push(n))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=ae){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const o="symbol"==typeof e?Symbol():`__${e}`,n=this.getPropertyDescriptor(e,o,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}static getPropertyDescriptor(e,t,o){return{get(){return this[t]},set(o){const n=this[e];this[t]=o,this._requestUpdate(e,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||ae}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const o of t)this.createProperty(o,e[o])}}static _attributeNameForProperty(e,t){const o=t.attribute;return!1===o?void 0:"string"==typeof o?o:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,o=ie){return o(e,t)}static _propertyValueFromAttribute(e,t){const o=t.type,n=t.converter||re,r="function"==typeof n?n:n.fromAttribute;return r?r(e,o):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const o=t.type,n=t.converter;return(n&&n.toAttribute||re.toAttribute)(e,o)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,o){t!==o&&this._attributeToProperty(e,o)}_propertyToAttribute(e,t,o=ae){const n=this.constructor,r=n._attributeNameForProperty(e,o);if(void 0!==r){const e=n._propertyValueToAttribute(t,o);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(r):this.setAttribute(r,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const o=this.constructor,n=o._attributeToPropertyMap.get(e);if(void 0!==n){const e=o.getPropertyOptions(n);this._updateState=16|this._updateState,this[n]=o._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}_requestUpdate(e,t){let o=!0;if(void 0!==e){const n=this.constructor,r=n.getPropertyOptions(e);n._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):o=!1}!this._hasRequestedUpdate&&o&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}se.finalized=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const le=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:o,elements:n}=t;return{kind:o,elements:n,finisher(t){window.customElements.define(e,t)}}})(e,t),ce=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(o){o.createProperty(t.key,e)}}:Object.assign(Object.assign({},t),{finisher(o){o.createProperty(t.key,e)}});function ue(e){return(t,o)=>void 0!==o?((e,t,o)=>{t.constructor.createProperty(o,e)})(e,t,o):ce(e,t)}function de(e){return(t,o)=>{const n={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==o?he(n,t,o):pe(n,t)}}const he=(e,t,o)=>{Object.defineProperty(t,o,e)},pe=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e});
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const fe="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;Symbol();
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");const me={};class ge extends se{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(void 0===e)this._styles=[];else if(Array.isArray(e)){const t=(e,o)=>e.reduceRight((e,o)=>Array.isArray(o)?t(o,e):(e.add(o),e),o),o=t(e,new Set),n=[];o.forEach(e=>n.unshift(e)),this._styles=n}else this._styles=[e]}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?fe?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==me&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){return me}}function be(e,t){return J`<svg width="${e}px" height="${t}px" version="1.1" fill="currentColor" viewBox="0 0 31.954 33.005" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(-35.386 -36.649)">
      <path transform="scale(.26458)" d="m190.22 142.29a58.783 58.783 0 0 0-52.697 58.4 58.783 58.783 0 0 0 58.783 58.783 58.783 58.783 0 0 0 54.43-36.678 63.532 63.532 0 0 1-62.902-63.5 63.532 63.532 0 0 1 2.3867-17.006z"/>
    </g>
    </svg>`}ge.finalized=!0,ge.render=(e,t,o)=>{if(!o||"object"!=typeof o||!o.scopeName)throw new Error("The `scopeName` option is required.");const n=o.scopeName,r=H.has(t),i=Z&&11===t.nodeType&&!!t.host,a=i&&!oe.has(n),s=a?document.createDocumentFragment():t;if(V(e,s,Object.assign({templateFactory:ee(n)},o)),a){const e=H.get(s);H.delete(s);const o=e.value instanceof E?e.value.template:void 0;ne(n,s,o),g(t,t.firstChild),t.appendChild(s),H.set(t,e)}!r&&i&&window.ShadyCSS.styleElement(t.host)};let ye=class extends ge{createRenderRoot(){return this}render(){return W`<footer class="is-size-5"><p><a href="/" class="is-size-3 has-text-weight-semibold"><i style="margin-right:4px">${be(26,26)}</i> Starboard</a><br></p><p class="is-size-7 has-text-grey-light" style="margin-top:-4px">Literate notebooks powered by your browser</p><ul style="margin-top:8px;max-width:200px" class="is-size-7 has-text-grey-light"><li><div class="footer-link-container"><a href="/about">About</a> <a href="/terms">Terms of Service</a></div></li><li><div class="footer-link-container"><a href="/open">Open Startup</a> <a href="/privacy">Privacy</a></div></li><li><div class="footer-link-container"><a href="/open#metrics">Metrics</a> <a href="https://github.com/gzuidhof/starboard-notebook">Open Source</a></div></li><br><p class="is-size-7 has-text-grey-light" style="margin-bottom:8px">Bootstrapped in London, UK</p></ul></footer>`}};ye=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-footer")],ye);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const ve=new WeakMap,we=p(e=>t=>{if(!(t instanceof M)||t instanceof F||"class"!==t.committer.name||t.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:o}=t,{element:n}=o;ve.has(t)||(n.className=o.strings.join(" "));const{classList:r}=n,i=ve.get(t);for(const t in i)t in e||r.remove(t);for(const t in e){const o=e[t];if(!i||o!==i[t]){r[o?"add":"remove"](t)}}ve.set(t,e)});var ke=o(11);function Se(e){void 0===e?delete localStorage.STARBOARD_TOKEN:localStorage.STARBOARD_TOKEN=e}const xe=new class{constructor(){this.setTokenByString(localStorage.STARBOARD_TOKEN),this.hasValidToken()||this.setTokenByString(void 0)}hasValidToken(){return void 0!==this.token&&(e=this.token,t=12e5,!(e.exp.valueOf()<Date.now().valueOf()+t));var e,t}isLoggedIn(){return this.hasValidToken()}loggedInUsername(){return this.token.username}getToken(){return this.token}getTokenString(){return this.tokenString}setTokenByString(e){if(this.tokenString=e,void 0===e)return this.token=void 0,void Se(void 0);try{this.token=Object(ke.a)(e)}catch(e){throw e}Se(e),void 0===e||this.hasValidToken()||(console.log("Token expired, dropping"),Se(void 0),this.token=void 0,this.tokenString=void 0)}};var Ce=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let Te=class extends ge{constructor(){super(),this.menuIsActive=!1,this.auth=xe}createRenderRoot(){return this}toggleMenu(){this.menuIsActive=!this.menuIsActive}render(){const e=this.auth.isLoggedIn(),t=e?this.auth.loggedInUsername():void 0;return W`<nav class="navbar navbar-main" role="navigation" aria-label="main navigation"><div class="navbar-brand"><a @click=${uo} class="navbar-item" href="/" style="padding-left:1.6rem"><b>Starboard</b> </a><a @click="${this.toggleMenu}" role="button" class="${we({"navbar-burger":!0,burger:!0,"is-active":this.menuIsActive})}" aria-label="menu" aria-expanded="${this.menuIsActive}"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a></div><div class="${we({"navbar-menu":!0,"is-active":this.menuIsActive})}"><div class="navbar-start"><a @click=${uo} href="/dashboard" class="navbar-item">Dashboard </a><a href="/jupystar" class="navbar-item">Jupystar</a></div><div class="navbar-end"><div class="navbar-item"><div class="buttons">${e?W`   <a href="/dashboard" class="button semi-bold" style="border-color: transparent; background-color: transparent;">
                  Signed in as ${t}
                  </a>
                  <a @click=${uo} href="/dashboard/new" class="button is-link is-outlined semi-bold">
                  New Notebook
                 </a>
                  `:W`
                <a @click=${uo} href="/login" class="button semi-bold" style="border-color: transparent; background-color: transparent;">
                  Sign in
                </a>
                <a @click=${uo} href="/signup" class="button is-primary semi-bold">
                  Create Account
                </a>
                `}</div></div></div></div></nav>`}};Ce([ue({type:Boolean})],Te.prototype,"menuIsActive",void 0),Te=Ce([le("starboard-navbar")],Te);var Ae=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};const Ee=o(880).default,Re=o(881).default,Pe=o(882).default,Oe=[{id:"introduction",name:"Introduction to Starboard",notebookContent:Ee},{id:"visualization",name:"Data Visualization in JS",notebookContent:Re},{id:"python",name:"Python: Pandas and Matplotlib",notebookContent:o(883).default},{id:"procedural",name:"Procedural Art",notebookContent:Pe}];let _e,$e=class extends ge{constructor(){super(...arguments),this.currentDemo=Oe[0]}createRenderRoot(){return this}connectedCallback(){super.connectedCallback();const e=window.location.hash.substr(1),t=Oe.findIndex(t=>t.id==e);-1!==t&&(this.currentDemo=Oe[t])}switchToDemo(e){this.currentDemo=e,this.performUpdate(),this.editor.reloadKernel(),window.location.hash="#"+this.currentDemo.id}render(){return W`<div class="container"><div class="title-container" style="margin-bottom:18px"><h1 class="title">${be(46,40)}Starboard</h1><h2 class="subtitle">The shareable in-browser notebook</h2></div><div class="columns"><div class="column is-one-quarter" style="margin-top:26px"><aside class="menu"><p class="menu-label">Example notebooks</p><ul class="menu-list">${Oe.map(e=>{const t=this.currentDemo.id===e.id;return W` <li><a @click=${()=>this.switchToDemo(e)} class=${t?"is-active":""}>
                            ${e.name}
                            </a></li>`})}</ul><div class="content" style="margin-top:2rem">Starboard is an <a href="/open">Open Startup</a>.<br><br>Starboard is in beta, you can read more about Starboard <a href="/about">here</a>.</div></aside></div><div class="column is-three-quarters" style="padding-top:0"><starboard-editor .notebookContentString=${this.currentDemo.notebookContent}></starboard-editor></div></div><div class="section has-text-centered"><p><a href="/signup" class="button is-medium is-primary">Sign up for Starboard</a></p><p class="has-text-weight-semibold is-size-7" style="margin-top:5px">It's free, powered by your browser</p><br><p class="help">OR</p><br><p><a href="/dashboard/new" class="button is-medium is-primary is-outlined">Create an offline notebook</a></p><p class="has-text-weight-semibold is-size-7" style="margin-top:5px">Also free, but it can't be shared</p></div></div>`}};Ae([de("starboard-editor")],$e.prototype,"editor",void 0),$e=Ae([le("starboard-home")],$e);const Ne=function(e,...t){return _e?_e(e,...t):t.reduce((t,o,n)=>t+o+e[n+1],e[0])},Me=({width:e=24,height:t=24,hidden:o=!1,title:n="Assets Added"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M12 24H4V4h28v11.624a12.045 12.045 0 012 1.458V3a1 1 0 00-1-1H3a1 1 0 00-1 1v22a1 1 0 001 1h11a11.975 11.975 0 01.181-2z"
    />
    <path
      d="M26 16.05A9.95 9.95 0 1035.95 26 9.95 9.95 0 0026 16.05zm6 11.45a.5.5 0 01-.5.5H28v3.5a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V28h-3.5a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5H24v-3.5a.5.5 0 01.5-.5h3a.5.5 0 01.5.5V24h3.5a.5.5 0 01.5.5z"
    />
  </svg>`,Ue=({width:e=24,height:t=24,hidden:o=!1,title:n="Cloud Disconnected"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="${e}"
    height="${t}"
    viewBox="0 0 36 36"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M27.688 14.026Q27.348 14 27 14a9.001 9.001 0 00-7.484 14H3.718A3.92 3.92 0 010 23.854c0-1.73 1.792-4.261 4.092-4.261a4.815 4.815 0 01-.134-1.577 6.254 6.254 0 016.399-6.075 7.743 7.743 0 012.098.291c.936-3.166 3.622-6.17 7.607-6.17a7.296 7.296 0 017.641 7.57c0 .133-.005.264-.015.394z"
    />
    <path
      d="M26.969 15.813a7.25 7.25 0 107.25 7.25 7.255 7.255 0 00-7.25-7.25zm3.87 9.915a.92.92 0 01-.65 1.57.925.925 0 01-.65-.27L27.111 24.6l-2.426 2.427a.919.919 0 01-1.57-.65.914.914 0 01.27-.65l2.426-2.427-2.393-2.418a.818.818 0 01-.307-.589 1.007 1.007 0 01.957-.982.925.925 0 01.65.27L27.111 22l2.393-2.419a.925.925 0 01.65-.27 1.007 1.007 0 01.957.982.818.818 0 01-.306.589L28.412 23.3z"
    />
  </svg>`,De=({width:e=24,height:t=24,hidden:o=!1,title:n="Cloud Outline"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M20.5 6.714a6.788 6.788 0 016.538 8.606 5.492 5.492 0 01.605-.034 5.357 5.357 0 010 10.714H6.214a3.215 3.215 0 010-6.429h.359v-1.428a5.718 5.718 0 017.2-5.519 6.788 6.788 0 016.727-5.91zm0-2a8.811 8.811 0 00-8.233 5.715 7.724 7.724 0 00-7.69 7.406A5.214 5.214 0 006.214 28h21.429a7.357 7.357 0 001.643-14.529A8.8 8.8 0 0020.5 4.714z"
    />
  </svg>`,Ie=({width:e=24,height:t=24,hidden:o=!1,title:n="Email"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M18 20.188L36 6.665v-1.5A1.147 1.147 0 0034.875 4H1.125A1.147 1.147 0 000 5.167v1.469zm6.779-2.225L36 26.367V9.541l-11.221 8.422z"
    />
    <path
      d="M22.866 19.4l-3.576 2.694a2.172 2.172 0 01-2.58 0l-3.628-2.719L0 29.068v1.766A1.146 1.146 0 001.125 32h33.75A1.146 1.146 0 0036 30.834v-1.59zm-11.701-1.462L0 9.512v16.683l11.165-8.257z"
    />
  </svg>`,Fe=({width:e=24,height:t=24,hidden:o=!1,title:n="Home"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M35.332 20.25L18.75 3.668a1.063 1.063 0 00-1.5 0L.668 20.25a1.061 1.061 0 000 1.5l1.958 1.957a1 1 0 00.707.293H4v9a1 1 0 001 1h8a1 1 0 001-1V23a1 1 0 011-1h6a1 1 0 011 1v10a1 1 0 001 1h8a1 1 0 001-1v-9h.667a1 1 0 00.707-.293l1.958-1.957a1.061 1.061 0 000-1.5z"
    />
  </svg>`,je=({width:e=24,height:t=24,hidden:o=!1,title:n="Link"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M31.7 4.3a7.176 7.176 0 00-10.148 0c-.385.386-4.264 4.222-5.351 5.309a8.307 8.307 0 013.743.607c.519-.52 3.568-3.526 3.783-3.741a4.1 4.1 0 015.8 5.8l-7.119 7.115a4.617 4.617 0 01-3.372 1.3 3.953 3.953 0 01-2.7-1.109 4.154 4.154 0 01-1.241-1.626 2.067 2.067 0 00-.428.318l-1.635 1.712a7.144 7.144 0 001.226 1.673c2.8 2.8 7.875 2.364 10.677-.438l6.765-6.768a7.174 7.174 0 000-10.152z"
    />
    <path
      d="M15.926 25.824c-.52.52-3.5 3.547-3.713 3.762a4.1 4.1 0 11-5.8-5.8L13.6 16.6a4.58 4.58 0 013.366-1.292 4.2 4.2 0 013.784 2.782 2.067 2.067 0 00.428-.318l1.734-1.721a7.165 7.165 0 00-1.226-1.673 7.311 7.311 0 00-10.26.048l-7.187 7.186a7.176 7.176 0 0010.148 10.149c.386-.386 4.194-4.243 5.281-5.33a8.3 8.3 0 01-3.742-.607z"
    />
  </svg>`,Le=({width:e=24,height:t=24,hidden:o=!1,title:n="Lock Closed"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M29 16h-1v-2a10 10 0 00-20 0v2H7a1 1 0 00-1 1v16a1 1 0 001 1h22a1 1 0 001-1V17a1 1 0 00-1-1zm-17-2a6 6 0 0112 0v2H12zm8 12.222V29a1 1 0 01-1 1h-2a1 1 0 01-1-1v-2.778a3 3 0 114 0z"
    />
  </svg>`,Be=({width:e=24,height:t=24,hidden:o=!1,title:n="Log Out"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <rect height="18" rx="1" ry="1" width="4" x="16" />
    <path
      d="M25.215 5.063l-1.14 1.823a1.01 1.01 0 00.337 1.384 11.738 11.738 0 11-12.82 0 1 1 0 00.336-1.377l-1.144-1.831A1 1 0 009.4 4.731a15.9 15.9 0 1017.191 0 1 1 0 00-1.376.332z"
    />
  </svg>`,Ye=({width:e=24,height:t=24,hidden:o=!1,title:n="Real Time Customer Profile"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="${e}"
    height="${t}"
    viewBox="0 0 36 36"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M18 1a17 17 0 1017 17A17 17 0 0018 1zm10.982 27.183a10.826 10.826 0 00-6.224-3.128 1.307 1.307 0 01-1.131-1.311V21.85a1.313 1.313 0 01.333-.844 9.99 9.99 0 002.28-6.236c0-4.72-2.508-7.36-6.287-7.36s-6.358 2.737-6.358 7.36a10.103 10.103 0 002.383 6.238 1.31 1.31 0 01.334.845v1.883a1.3 1.3 0 01-1.14 1.31 10.863 10.863 0 00-6.24 3.042 15 15 0 1122.05.094z"
    />
  </svg>`,ze=({width:e=24,height:t=24,hidden:o=!1,title:n="Share Android"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M27.464 24.227a4.459 4.459 0 00-3.157 1.3l-11.336-6.333a4.374 4.374 0 000-2.373l11.336-6.368a4.512 4.512 0 10-1.143-1.945l-11.319 6.359a4.473 4.473 0 100 6.282l11.319 6.327a4.472 4.472 0 104.3-3.249z"
    />
  </svg>`,qe=({width:e=24,height:t=24,hidden:o=!1,title:n="User"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M32.949 34a.993.993 0 001-1.053c-.661-7.184-8.027-9.631-10.278-9.827C22.026 22.977 22 21.652 22 20c0 0 3.532-3.943 3.532-8.958C25.532 5.617 22.445 2 18 2s-7.532 3.617-7.532 9.042C10.468 16.057 14 20 14 20c0 1.652-.026 2.977-1.674 3.12-2.251.2-9.617 2.643-10.278 9.827a.993.993 0 001 1.053z"
    />
  </svg>`,He=({width:e=24,height:t=24,hidden:o=!1,title:n="User Admin"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M13.62 25.92a12.287 12.287 0 015.427-10.2 1.48 1.48 0 01.331-.753 10.775 10.775 0 001.962-3.679 9.906 9.906 0 00.577-3.146 10.792 10.792 0 00-.517-3.428A6.358 6.358 0 0014.961 0a6.8 6.8 0 00-4.05 1.229 6.032 6.032 0 00-1.3 1.33A9.021 9.021 0 007.963 8.1a9.453 9.453 0 00.276 2.133 10.975 10.975 0 002.261 4.774 1.443 1.443 0 01.367.93c.031.837.083 1.466.083 2.032a1.431 1.431 0 01-1.25 1.444c-8.366.728-9.673 6.45-9.673 8.707 0 .251.048 1.526.048 1.526H14.2a12.284 12.284 0 01-.58-3.726z"
    />
    <path
      d="M35.23 24.541h-2.415a6.98 6.98 0 00-1.02-2.476l1.72-1.72a.69.69 0 000-.975l-1.045-1.045a.69.69 0 00-.975 0l-1.72 1.72a6.983 6.983 0 00-2.475-1.02V16.61a.69.69 0 00-.69-.69h-1.38a.69.69 0 00-.69.69v2.415a6.983 6.983 0 00-2.475 1.02l-1.72-1.72a.69.69 0 00-.975 0l-1.045 1.045a.69.69 0 000 .975l1.72 1.72a6.98 6.98 0 00-1.02 2.476H16.61a.69.69 0 00-.69.69v1.379a.69.69 0 00.69.69h2.415a6.98 6.98 0 001.02 2.476l-1.72 1.72a.689.689 0 000 .975l1.045 1.045a.69.69 0 00.975 0l1.72-1.72a6.983 6.983 0 002.475 1.02v2.414a.69.69 0 00.69.69h1.38a.69.69 0 00.69-.69v-2.415a6.983 6.983 0 002.475-1.02l1.72 1.72a.69.69 0 00.975 0l1.045-1.045a.689.689 0 000-.975l-1.72-1.72a6.98 6.98 0 001.02-2.476h2.415a.69.69 0 00.69-.69V25.23a.69.69 0 00-.69-.689zm-9.31 4.975a3.6 3.6 0 113.6-3.6 3.6 3.6 0 01-3.6 3.599z"
    />
  </svg>`;(e=>{_e=e})(W);var Ve=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let We=class extends ge{constructor(){super(...arguments),this.title="",this.subtitle="",this.pageTemplate=""}createRenderRoot(){return this}connectedCallback(){super.connectedCallback()}render(){return W`<div class="container"><div class="title-container"><h1 class="title">${this.title}</h1></div><div class="columns"><div class="column is-one-quarter">${function(e){const t=xe.hasValidToken();return W`<aside class="menu">${[{title:"General",links:[{name:"Home",icon:Fe,route:"/dashboard"},{name:"New Notebook",icon:Me,route:"/dashboard/new"}]},{title:"Notebooks",links:[{name:"Cloud Notebooks",icon:De,route:"/dashboard/notebooks"},{name:"Offline Notebooks",icon:Ue,route:"/dashboard/local"}]},{title:"Account",links:t?[{name:"Manage Account",icon:He,route:"/dashboard/account"},{name:"Sign Out",icon:Be,route:"/dashboard/signout"}]:[{name:"Sign in to Starboard",icon:e=>be(e.width,e.height),route:"/login"}]}].map(t=>W`
                <p class="menu-label">
                    ${t.title}
                </p>
                <ul class="menu-list">
                    ${t.links.map(t=>W`
                            <a
                              href=${t.route}
                              @click=${uo}
                              class=${t.name===e?"is-active":""}
                            >
                                ${t.icon({width:20,height:20})} <span class="has-icon-left">${t.name}</span>
                            </a></li>
                    `)}
                </ul>`)}</aside>`}(this.title)}</div><div class="column is-three-quarters">${this.pageTemplate}</div></div></div>`}};function Je(e={}){return W`<a class="button semi-bold ${e.class}" href="/login" @click=${uo} style="text-decoration:none"><i style="margin-right:.5em">${be(16,16)}</i> Sign in to Starboard</a>`}Ve([ue()],We.prototype,"title",void 0),Ve([ue()],We.prototype,"subtitle",void 0),Ve([ue()],We.prototype,"pageTemplate",void 0),We=Ve([le("starboard-dashboard")],We);let Ge,Ke=class extends ge{createRenderRoot(){return this}connectedCallback(){super.connectedCallback()}render(){return xe.isLoggedIn()?W`<div class="content"><b>Welcome to Starboard</b><p>Select an action on the left to get started, perhaps you want to <a @click=${uo} href="/dashboard/new">create a new notebook</a>.</p><hr><p class="help">Starboard is still a work in progress and your feedback is valued.</p></div>`:W`<div class="content"><p>Welcome to Starboard, to get the most out of it you can log in.</p>${Je()}<hr><p class="help">You don't have to log in or create an account to use Starboard. You can create an <a @click=${uo} href="/dashboard/new">Offline Notebook</a> and try the waters first.<br>Logging in gives you the option to save your notebooks on Starboard's servers which allows you to more easily share them.</p></div>`}};Ke=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-dashboard-home")],Ke);class Xe{constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbp=new Promise((o,n)=>{const r=indexedDB.open(e,1);r.onerror=()=>n(r.error),r.onsuccess=()=>o(r.result),r.onupgradeneeded=()=>{r.result.createObjectStore(t)}})}_withIDBStore(e,t){return this._dbp.then(o=>new Promise((n,r)=>{const i=o.transaction(this.storeName,e);i.oncomplete=()=>n(),i.onabort=i.onerror=()=>r(i.error),t(i.objectStore(this.storeName))}))}}function Qe(){return Ge||(Ge=new Xe),Ge}class Ze{}async function et(e,t,o){const n=await e.get(t),r=new Blob([n],{type:"text/plaintext"}),i=document.createElement("a");i.download=o,i.href=URL.createObjectURL(r),i.dataset.downloadurl=["text/plaintext",i.download,i.href].join(":"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout((function(){URL.revokeObjectURL(i.href)}),5e3)}class tt extends Ze{constructor(){super(),this.idbStore=new Xe(tt.DATABASE_NAME,tt.STORE_NAME)}async list(){return(await function(e=Qe()){const t=[];return e._withIDBStore("readonly",e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}(this.idbStore)).map(e=>({name:e,id:e}))}async set(e,t){return function(e,t,o=Qe()){return o._withIDBStore("readwrite",o=>{o.put(t,e)})}(e,t,this.idbStore)}async get(e){return function(e,t=Qe()){let o;return t._withIDBStore("readonly",t=>{o=t.get(e)}).then(()=>o.result)}(e,this.idbStore)}async has(e){return void 0!==await this.get(e)}async delete(e){return function(e,t=Qe()){return t._withIDBStore("readwrite",t=>{t.delete(e)})}(e,this.idbStore)}}tt.DATABASE_NAME="nb-store",tt.STORE_NAME="nb";var ot=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};function nt(e){const t=new rt(e);return document.body.appendChild(t),t}let rt=class extends ge{constructor(e){super(),this.content=e}createRenderRoot(){return this}close(){this.remove()}render(){return W`<div class="modal is-active"><div class="modal-background" @click="${this.close}"></div><div class="modal-content">${this.content}</div><button @click="${this.close}" class="modal-close is-large" aria-label="close"></button></div>`}};ot([ue()],rt.prototype,"content",void 0),rt=ot([le("starboard-modal")],rt);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const it=new WeakMap,at=p((...e)=>t=>{let o=it.get(t);void 0===o&&(o={lastRenderedIndex:2147483647,values:[]},it.set(t,o));const n=o.values;let r=n.length;o.values=e;for(let i=0;i<e.length&&!(i>o.lastRenderedIndex);i++){const a=e[i];if(_(a)||"function"!=typeof a.then){t.setValue(a),o.lastRenderedIndex=i;break}i<r&&a===n[i]||(o.lastRenderedIndex=2147483647,r=0,Promise.resolve(a).then(e=>{const n=o.values.indexOf(a);n>-1&&n<o.lastRenderedIndex&&(o.lastRenderedIndex=n,t.setValue(e),t.commit())}))}});let st;const lt=function(e,...t){return st?st(e,...t):t.reduce((t,o,n)=>t+o+e[n+1],e[0])};(e=>{st=e})(W);var ct=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};async function ut(e,t,o){try{const n=await e;return n.length>0?n.map(e=>{const n="local"===t?`/local/${e.name}`:`/${t}/${e.name}-${e.id}`;return W`<div class="notebook-list-entry"><span class="panel-icon is-link">${(({width:e=24,height:t=24,hidden:o=!1,title:n="Document Outline"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M20.735 2H7a1 1 0 00-1 1v30a1 1 0 001 1h22a1 1 0 001-1V11.265a2 2 0 00-.586-1.414l-7.265-7.265A2 2 0 0020.735 2zM28 32H8V4h12.121v6.879a1 1 0 001 1H28zm-6-22V5.266L26.734 10z"
    />
  </svg>`)({width:15,height:15})}</span><h3 class="is-size-6"><a href=${n} class="semi-bold">${e.name}</a></h3>${o?W`
                        <div style="margin-left: auto" class="dropdown is-right is-hoverable">
                    <div class="dropdown-trigger">
                        <button style="font-weight: 600" class="button is-small is-transparent" aria-haspopup="true" aria-controls="dropdown-menu-actions-${e.id}">
                        <span>Actions</span>
                        <span class="icon is-small">
                            ${(({width:e=24,height:t=24,hidden:o=!1,title:n="Chevron Down Medium"}={})=>lt`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="${e}"
    height="${t}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
    viewBox="0 0 10 6"
  >
    <path
      d="M9.99 1.01A1 1 0 008.283.303L5 3.586 1.717.303A1 1 0 10.303 1.717l3.99 3.98a1 1 0 001.414 0l3.99-3.98a.997.997 0 00.293-.707z"
      viewBox="0 0 0 0"
    />
  </svg>`)({width:9,height:9})}
                        </span>
                        </button>
                    </div>
                    <div class="dropdown-menu" id="dropdown-menu-actions-${e.id}" role="menu">
                        ${o(e)}
                    </div>
                </div>
                    `:void 0}</div>`}):W`<div class="center-content has-text-grey grow"><p>No Notebooks created yet</p></div>`}catch(e){return W`<div class="center-content grow has-text-weight-semibold">${e.name}: ${e.message}</div>`}}let dt=class extends ge{constructor(){super(...arguments),this.author="local"}createRenderRoot(){return this}render(){return W`<article class="notebook-list"><div class="panel-heading panel-heading-notebook-list"><h3 style="display:flex;align-items:center">${this.headerTitle}</h3>${this.createButtonHref?W`
                        <a @click=${uo} href="${this.createButtonHref}" class="button is-small is-rounded is-grey-lightest"><span class="icon">
                        ${(({width:e=24,height:t=24,hidden:o=!1,title:n="Add"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M29 16h-9V7a1 1 0 00-1-1h-2a1 1 0 00-1 1v9H7a1 1 0 00-1 1v2a1 1 0 001 1h9v9a1 1 0 001 1h2a1 1 0 001-1v-9h9a1 1 0 001-1v-2a1 1 0 00-1-1z"
    />
  </svg>`)()}
                        </span><span>Create new Notebook</span></a>`:void 0}</div>${at(ut(this.notebooks,this.author,this.actionsDropdownTemplate),W`<div class="center-content grow has-text-weight-semibold">Loading notebooks..</div>`)}</article>`}};ct([ue({attribute:!1})],dt.prototype,"notebooks",void 0),ct([ue()],dt.prototype,"headerTitle",void 0),ct([ue()],dt.prototype,"createButtonHref",void 0),ct([ue()],dt.prototype,"author",void 0),ct([ue({attribute:!1})],dt.prototype,"actionsDropdownTemplate",void 0),dt=ct([le("starboard-notebook-list")],dt);let ht=class extends ge{createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.store=new tt}deleteAllClick(){!function(e,t,o){const n={},r=()=>{n.close()},i=nt(W`<div class="box">${e}<div class="level"><button @click="${()=>{t(),r()}}" style="margin-left:auto;margin-right:8px" class="button is-${o}">Confirm</button> <button class="button" @click="${r}">Cancel</button></div></div>`);n.close=()=>i.remove()}(W`<div class="content"><h1 class="is-size-5">Are you really very sure?</h1><p>You are about to delete ALL your offline notebooks, this action can not be undone.</p><strong>Is this what you want?</strong></div>`,async()=>{const e=await this.store.list();await Promise.all(e.map(e=>this.store.delete(e.name))),this.performUpdate(),alert("Deleted all local notebooks")},"danger")}infoClick(){nt(W`<div class="box content"><h1 class="is-size-5">How does it work?</h1><hr><p>Local notebooks are not public, they are only visible in the browser you used to create them. Use them for local experimentation, visualizing data that is private to you, or really anything else.<br><br>Full offline support isn't supported yet, so you will still have to load this page, but in the future you will be able to access these even when you are not connected to the internet.</p><article class="message is-link"><div class="message-header"><p>Warning</p></div><div class="message-body"><p>Your browser storage isn't the most reliable source of storage, especially if your machine runs out of storage space your browser may decide to delete your notebooks.</p><p>You are strongly advised to create an account and store your notebooks in the cloud. Alternatively, make backups regulary, perhaps in a file on your computer.</p></div></article></div>`)}async deleteNotebook(e){if(confirm("Are you sure you want to delete this notebook?")){try{await this.store.delete(e.id)}catch(e){console.error(e)}this.performUpdate()}}async downloadAsFile(e){et(this.store,e.id,e.id+".nb")}render(){const e=this.store.list();return W`<starboard-notebook-list .notebooks=${e} headerTitle="Offline Notebooks" .createButtonHref=${"/dashboard/new"} .actionsDropdownTemplate=${e=>W`<div class="dropdown-content"><div class="dropdown-item"><button @click=${()=>this.downloadAsFile(e)} class="button is-small is-outlined semi-bold" style="width:100%;margin-bottom:4px">Download as file</button> <button @click=${()=>this.deleteNotebook(e)} class="button is-small is-outlined semi-bold" style="width:100%">Delete Notebook</button></div></div>`}></starboard-notebook-list><div class="content"><p>These notebooks are stored in your browser's cache only. <a @click="${this.infoClick}">How does it work?</a></p><hr><button class="button is-danger is-small is-outlined" style="float:right" @click="${this.deleteAllClick}">${(({width:e=24,height:t=24,hidden:o=!1,title:n="Folder Remove"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M16 6H2V3.5A1.5 1.5 0 013.5 2h7.672a2 2 0 011.414.586zm-1.3 21A12.3 12.3 0 0134 16.886V9a1 1 0 00-1-1H2v21a1 1 0 001 1h12.069a12.3 12.3 0 01-.369-3z"
    />
    <path
      d="M27.1 18.2a8.9 8.9 0 108.9 8.9 8.9 8.9 0 00-8.9-8.9zm5.826 12.267a.5.5 0 010 .707l-1.752 1.752a.5.5 0 01-.707 0L27.1 29.559l-3.367 3.367a.5.5 0 01-.707 0l-1.752-1.752a.5.5 0 010-.707l3.367-3.367-3.367-3.367a.5.5 0 010-.707l1.752-1.752a.5.5 0 01.707 0l3.367 3.367 3.367-3.367a.5.5 0 01.707 0l1.752 1.752a.5.5 0 010 .707L29.559 27.1z"
    />
  </svg>`)({width:16,height:16})}<span class="has-icon-left">Delete All</span></button><p></p></div>`}};ht=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-local")],ht);class pt extends Ze{constructor(e,t){super(),this.client=e,this.username=t}async list(){return(await this.client.listOwnNotebooks()).data.notebooks.map(e=>({name:e.name,id:e.id,createdAt:new Date(e.createdAt)}))}async set(e,t){return this.client.putNotebook(this.username,e,t)}async get(e){return(await this.client.getNotebook(this.username,e)).data}async has(e){throw new Error("NBStore.has is not supported on CloudStore yet")}async delete(e){await this.client.deleteNotebook(this.username,e)}}var ft=o(12),mt=o.n(ft),gt=o(1);class bt{constructor(e,t){void 0===e&&(e="https://starboardapi.com"),localStorage.OVERRIDE_API_SERVER&&(e=localStorage.OVERRIDE_API_SERVER),this.authState=void 0===t?xe:t,this.api=mt.a.create({baseURL:e,timeout:1e4,responseType:"json",headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(e=>{const t=this.authState.getTokenString();return t&&(e.headers.Authorization="Bearer "+t),e})}queryGraphQL(e,t){return this.api.post("/v1/graphql",{query:e,variables:t})}async signup(e){return await this.api.post("/v1/user/signup",e)}async login(e){const t=await this.api.post("/v1/auth/login",e);return t.data.hasOwnProperty("token")&&this.authState.setTokenByString(t.data.token),t}async requestPasswordReset(e){return await this.api.post("/v1/auth/requestPasswordReset",e)}async resetPassword(e){return await this.api.post("/v1/auth/resetPassword",e)}async discourseSSO(e){return await this.api.post("/v1/sso/discourse",e)}async getNotebook(e,t){return await this.api.get(`/v1/notebooks/${e}/${t}`,{responseType:"text"})}async putNotebook(e,t,o){const n={content:gt.Base64.encode(o)};return await this.api.put(`/v1/notebooks/${e}/${t}`,n)}async deleteNotebook(e,t){return await this.api.delete(`/v1/notebooks/${e}/${t}`)}async notebookExists(e){return await this.api.head(`/v1/notebookExists/${e}`)}async listOwnNotebooks(){return this.queryGraphQL("getOwnNotebooks")}async getUserProfile(e){return this.queryGraphQL("getUserProfile",{username_lowercase:e.toLowerCase()})}async getOwnAccountInfo(){return this.queryGraphQL("getOwnAccountInfo")}async createNotebook(e,t,o){const n={name:e,content:gt.Base64.encode(t),forkOf:o};return await this.api.post("/v1/notebooks",n)}async getNotebookData(e){return this.queryGraphQL("getNotebookData",{notebook_id:e})}async starNotebook(e){return this.queryGraphQL("starNotebook",{notebook_id:e})}async unstarNotebook(e){return this.queryGraphQL("unstarNotebook",{notebook_id:e})}}let yt=class extends ge{createRenderRoot(){return this}connectedCallback(){super.connectedCallback();const e=xe.getToken().username;this.store=new pt(new bt,e)}async deleteNotebook(e){if(confirm("Are you sure you want to delete this notebook?")){try{await this.store.delete(e.id)}catch(e){console.error(e),alert(JSON.stringify(e.response.data))}this.performUpdate()}}async downloadAsFile(e){et(this.store,e.id,e.name+".nb")}render(){const e=this.store.list(),t=xe.getToken().username;return W`<starboard-notebook-list .author=${t} .notebooks=${e} headerTitle="Cloud Notebooks" .createButtonHref=${"/dashboard/new"} .actionsDropdownTemplate=${e=>W`<div class="dropdown-content"><div class="dropdown-item"><button @click=${()=>this.downloadAsFile(e)} class="button is-small is-outlined semi-bold" style="width:100%;margin-bottom:4px">Download as file</button> <button @click=${()=>this.deleteNotebook(e)} class="button is-small is-outlined semi-bold" style="width:100%">Delete Notebook</button></div></div>`}></starboard-notebook-list>`}};yt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-notebooks-overview")],yt);
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const vt=p(e=>t=>{if(void 0===e&&t instanceof M){if(e!==t.value){const e=t.committer.name;t.committer.element.removeAttribute(e)}}else t.setValue(e)});function wt(e){return void 0===e.type&&(e.type="text"),W`<div class="field">${e.label?W`<label class="label">${e.label}</label>`:void 0}<div class="control has-icons-left has-icons-right"><input id=${vt(e.id)} @input=${e.onChange} autocomplete=${e.autocomplete} class="input is-error${e.extraClasses?" "+e.extraClasses.join(" "):""}" type=${e.type} placeholder="${e.placeholder}" value=${e.initialValue}> <span class="icon is-small is-left">${e.icon({width:20,height:20})}</span></div><p class="help has-text-grey">${e.helpText}</p></div>`}var kt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};function St(e){return`# %% [markdown]\n# ${e}\nTry editing this cell by clicking the pencil on the left!\n# %% [javascript]\nvar message = "Hello Starboard!"\nconsole.log(message)\n`}let xt=class extends ge{constructor(){super(...arguments),this.name="",this.title="",this.notebookType=xe.hasValidToken()?"public":"local"}createRenderRoot(){return this}connectedCallback(){super.connectedCallback()}onChange(e,t){this[e]=t.target.value}async onSubmit(e){if(e.preventDefault(),"public"===this.notebookType){const t=new bt;try{const e=(await t.createNotebook(this.name,St(this.name))).data.id,o=xe.getToken().username;window.location.replace(`/${o}/${this.name}-${e}`)}catch(e){alert(e+"\n"+JSON.stringify(e.response.data))}}else if("local"===this.notebookType){const e=new tt;if(await e.has(this.name))return void alert("A notebook with this name already exists, try a different name.");await e.set(this.name,St(this.name)),window.location.replace(`/local/${this.name}`)}}render(){const e=xe.hasValidToken(),t=!((o=this.name).length>100||o.match(/[^a-zA-Z0-9_.-]+/));var o;let n="",r="",i=!0;return this.name.length>0&&(n=t?"is-success":"is-danger",r=t?(({width:e=24,height:t=24,hidden:o=!1,title:n="Checkmark Medium"}={})=>lt`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="${e}"
    height="${t}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
    viewBox="0 0 12 12"
  >
    <path
      d="M4.5 10a1.022 1.022 0 01-.799-.384l-2.488-3a1 1 0 011.576-1.233L4.5 7.376l4.712-5.991a1 1 0 111.576 1.23l-5.51 7A.978.978 0 014.5 10z"
      viewBox="0 0 0 0"
    />
  </svg>`)({width:18,height:18}):(({width:e=24,height:t=24,hidden:o=!1,title:n="Cross Medium"}={})=>lt`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="${e}"
    height="${t}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
    viewBox="0 0 8 8"
  >
    <path
      d="M7.77 6.71L5.06 4l2.71-2.71A.75.75 0 106.71.23L4 2.94 1.29.23A.75.75 0 10.23 1.29L2.94 4 .23 6.71a.75.75 0 101.06 1.06L4 5.06l2.71 2.71a.75.75 0 101.06-1.06z"
      viewBox="0 0 0 0"
    />
  </svg>`)({width:16,height:16}),i=!t),W`<div class="container less-width-container"><form @submit=${this.onSubmit} autocomplete="off"><div class="field"><label class="label">Notebook Type</label> <label class="radio" ?disabled=${!e}><input @change=${e=>this.onChange("notebookType",e)} type="radio" value="public" name="notebookType" ?checked=${e} ?disabled=${!e}> Public${e?"":W` (<a href="/login" class="semi-bold">requires login</a>)`}</label> <label class="radio"><input @change=${e=>this.onChange("notebookType",e)} type="radio" value="local" name="notebookType" ?checked=${!e}> Offline Only</label> <label class="radio" disabled=disabled><input type="radio" value="local" name="notebookType" disabled=disabled> Private (not supported yet)</label><p class="help has-text-grey" style="min-height:2.25rem">${"public"===this.notebookType?W`<b>Public Notebooks</b> can be viewed by anyone on the internet.`:W`<b>Offline Notebooks</b> are stored in your browser cache. These notebooks are not tied to your account or saved in the cloud, they can not be shared.<br>Note that they may disappear at any time when your browser cleans up its storage.`}</p></div><hr>${wt({onChange:e=>this.onChange("name",e),label:"Name *",initialValue:this.name,placeholder:"exploring-starboard-notebook",icon:je,type:"text",helpText:W`This will be used in the URL and as the download filename. Letters, numbers or the characters ._- only, <a href="http://wiki.c2.com/?KebabCase" target="_blank">kebab-case</a> is recommended.`,autocomplete:"off"})}<div class="field is-grouped is-grouped-right medium-margin-above"><button type="submit" @click=${this.onSubmit} ?disabled="${i}" class="button is-primary">Create Notebook</button></div></form></div>`}};kt([ue()],xt.prototype,"name",void 0),kt([ue()],xt.prototype,"title",void 0),kt([ue()],xt.prototype,"notebookType",void 0),xt=kt([le("starboard-create")],xt);var Ct=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let Tt,At=class extends ge{constructor(e){super(),this.sourceString=e}createRenderRoot(){return this}render(){return W`<pre class="cell-editor"><code>${this.sourceString}</code></pre>`}};function Et(){Tt&&window.removeEventListener("beforeunload",Tt)}Ct([ue()],At.prototype,"sourceString",void 0),At=Ct([le("starboard-source-viewer")],At);var Rt=function(e){var t={exports:{}};return e(t,t.exports),t.exports}((function(e){!function(t){if("undefined"!=typeof window){var o,n=0,r=!1,i=!1,a="message".length,s="[iFrameSizer]",l=s.length,c=null,u=window.requestAnimationFrame,d={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},h={},p=null,f={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){x("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}},m={};window.jQuery&&((o=window.jQuery).fn?o.fn.iFrameResize||(o.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,o){I(o,e)})).end()}):S("","Unable to bind to jQuery, it is not fully loaded.")),e.exports=Y(),window.iFrameResize=window.iFrameResize||Y()}function g(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function b(e,t,o){e.addEventListener(t,o,!1)}function y(e,t,o){e.removeEventListener(t,o,!1)}function v(e){return s+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function w(e){return h[e]?h[e].log:r}function k(e,t){C("log",e,t,w(e))}function S(e,t){C("info",e,t,w(e))}function x(e,t){C("warn",e,t,!0)}function C(e,t,o,n){!0===n&&"object"==typeof window.console&&console[e](v(t),o)}function T(e){function t(){r("Height"),r("Width"),M((function(){N(L),O(B),v("onResized",L)}),L,"init")}function o(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function n(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function r(e){var t=Number(h[B]["max"+e]),o=Number(h[B]["min"+e]),n=e.toLowerCase(),r=Number(L[n]);k(B,"Checking "+n+" is in range "+o+"-"+t),r<o&&(r=o,k(B,"Set "+n+" to min value")),r>t&&(r=t,k(B,"Set "+n+" to max value")),L[n]=""+r}function i(e){return j.substr(j.indexOf(":")+a+e)}function u(e,t){var o,n,r;o=function(){var o,n;U("Send Page Info","pageInfo:"+(o=document.body.getBoundingClientRect(),n=L.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:n.height,iframeWidth:n.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(n.top-o.top,10),offsetLeft:parseInt(n.left-o.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),e,t)},n=32,m[r=t]||(m[r]=setTimeout((function(){m[r]=null,o()}),n))}function d(e){var t=e.getBoundingClientRect();return P(B),{x:Math.floor(Number(t.left)+Number(c.x)),y:Math.floor(Number(t.top)+Number(c.y))}}function p(e){var t=e?d(L.iframe):{x:0,y:0},o={x:Number(L.width)+t.x,y:Number(L.height)+t.y};k(B,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](o.x,o.y):x(B,"Unable to scroll to requested position, window.parentIFrame not found"):(c=o,f(),k(B,"--"))}function f(){!1!==v("onScroll",c)?O(B):_()}function g(e){var t={};if(0===Number(L.width)&&0===Number(L.height)){var o=i(9).split(":");t={x:o[1],y:o[0]}}else t={x:L.width,y:L.height};v(e,{iframe:L.iframe,screenX:Number(t.x),screenY:Number(t.y),type:L.type})}function v(e,t){return A(B,e,t)}var w,C,T,E,I,F,j=e.data,L={},B=null;"[iFrameResizerChild]Ready"===j?function(){for(var e in h)U("iFrame requested init",D(e),h[e].iframe,e)}():s===(""+j).substr(0,l)&&j.substr(l).split(":")[0]in h?(T=j.substr(l).split(":"),E=T[1]?parseInt(T[1],10):0,I=h[T[0]]&&h[T[0]].iframe,F=getComputedStyle(I),L={iframe:I,id:T[0],height:E+o(F)+n(F),width:T[2],type:T[3]},B=L.id,h[B]&&(h[B].loaded=!0),(C=L.type in{true:1,false:1,undefined:1})&&k(B,"Ignoring init message from meta parent page"),!C&&function(e){var t=!0;return h[e]||(t=!1,x(L.type+" No settings for "+e+". Message was: "+j)),t}(B)&&(k(B,"Received: "+j),w=!0,null===L.iframe&&(x(B,"IFrame ("+L.id+") not found"),w=!1),w&&function(){var t,o=e.origin,n=h[B]&&h[B].checkOrigin;if(n&&""+o!="null"&&!(n.constructor===Array?function(){var e=0,t=!1;for(k(B,"Checking connection is from allowed list of origins: "+n);e<n.length;e++)if(n[e]===o){t=!0;break}return t}():(t=h[B]&&h[B].remoteHost,k(B,"Checking connection is from: "+t),o===t)))throw new Error("Unexpected message received from: "+o+" for "+L.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(h[B]&&h[B].firstRun&&h[B]&&(h[B].firstRun=!1),L.type){case"close":R(L.iframe);break;case"message":e=i(6),k(B,"onMessage passed: {iframe: "+L.iframe.id+", message: "+e+"}"),v("onMessage",{iframe:L.iframe,message:JSON.parse(e)}),k(B,"--");break;case"mouseenter":g("onMouseEnter");break;case"mouseleave":g("onMouseLeave");break;case"autoResize":h[B].autoResize=JSON.parse(i(9));break;case"scrollTo":p(!1);break;case"scrollToOffset":p(!0);break;case"pageInfo":u(h[B]&&h[B].iframe,B),function(){function e(e,n){function r(){h[o]?u(h[o].iframe,o):t()}["scroll","resize"].forEach((function(t){k(o,e+t+" listener for sendPageInfo"),n(window,t,r)}))}function t(){e("Remove ",y)}var o=B;e("Add ",b),h[o]&&(h[o].stopPageInfo=t)}();break;case"pageInfoStop":h[B]&&h[B].stopPageInfo&&(h[B].stopPageInfo(),delete h[B].stopPageInfo);break;case"inPageLink":!function(e){var t,o=e.split("#")[1]||"",n=decodeURIComponent(o),r=document.getElementById(n)||document.getElementsByName(n)[0];r?(t=d(r),k(B,"Moving to in page link (#"+o+") at x: "+t.x+" y: "+t.y),c={x:t.x,y:t.y},f(),k(B,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(o):k(B,"In page link #"+o+" not found and window.parentIFrame not found"):k(B,"In page link #"+o+" not found")}(i(9));break;case"reset":$(L);break;case"init":t(),v("onInit",L.iframe);break;default:0===Number(L.width)&&0===Number(L.height)?x("Unsupported message received ("+L.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):t()}var e}())):S(B,"Ignored: "+j)}function A(e,t,o){var n=null,r=null;if(h[e]){if("function"!=typeof(n=h[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");r=n(o)}return r}function E(e){var t=e.id;delete h[t]}function R(e){var t=e.id;if(!1!==A(t,"onClose",t)){k(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){x(e)}A(t,"onClosed",t),k(t,"--"),E(e)}else k(t,"Close iframe cancelled by onClose event")}function P(e){null===c&&k(e,"Get page position: "+(c={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop}).x+","+c.y)}function O(e){null!==c&&(window.scrollTo(c.x,c.y),k(e,"Set page position: "+c.x+","+c.y),_())}function _(){c=null}function $(e){k(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),P(e.id),M((function(){N(e),U("reset","reset",e.iframe,e.id)}),e,"reset")}function N(e){function t(t){i||"0"!==e[t]||(i=!0,k(n,"Hidden iFrame detected, creating visibility listener"),function(){function e(){Object.keys(h).forEach((function(e){!function(e){function t(t){return"0px"===(h[e]&&h[e].iframe.style[t])}h[e]&&null!==h[e].iframe.offsetParent&&(t("height")||t("width"))&&U("Visibility change","resize",h[e].iframe,e)}(e)}))}function t(t){k("window","Mutation observed: "+t[0].target+" "+t[0].type),F(e,16)}var o=g();o&&(n=document.querySelector("body"),new o(t).observe(n,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}));var n}())}function o(o){!function(t){e.id?(e.iframe.style[t]=e[t]+"px",k(e.id,"IFrame ("+n+") "+t+" set to "+e[t]+"px")):k("undefined","messageData id not set")}(o),t(o)}var n=e.iframe.id;h[n]&&(h[n].sizeHeight&&o("height"),h[n].sizeWidth&&o("width"))}function M(e,t,o){o!==t.type&&u&&!window.jasmine?(k(t.id,"Requesting animation frame"),u(e)):e()}function U(e,t,o,n,r){var i,a=!1;n=n||o.id,h[n]&&(o&&"contentWindow"in o&&null!==o.contentWindow?(i=h[n]&&h[n].targetOrigin,k(n,"["+e+"] Sending msg to iframe["+n+"] ("+t+") targetOrigin: "+i),o.contentWindow.postMessage(s+t,i)):x(n,"["+e+"] IFrame("+n+") not found"),r&&h[n]&&h[n].warningTimeout&&(h[n].msgTimeout=setTimeout((function(){!h[n]||h[n].loaded||a||(a=!0,x(n,"IFrame has not responded within "+h[n].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),h[n].warningTimeout)))}function D(e){return e+":"+h[e].bodyMarginV1+":"+h[e].sizeWidth+":"+h[e].log+":"+h[e].interval+":"+h[e].enablePublicMethods+":"+h[e].autoResize+":"+h[e].bodyMargin+":"+h[e].heightCalculationMethod+":"+h[e].bodyBackground+":"+h[e].bodyPadding+":"+h[e].tolerance+":"+h[e].inPageLinks+":"+h[e].resizeFrom+":"+h[e].widthCalculationMethod+":"+h[e].mouseEvents}function I(e,t){function o(e){var t=e.split("Callback");if(2===t.length){var o="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[o]=this[e],delete this[e],x(s,"Deprecated: '"+e+"' has been renamed '"+o+"'. The old method will be removed in the next major version.")}}var i,a,s=function(o){var i;return""===o&&(e.id=(i=t&&t.id||f.id+n++,null!==document.getElementById(i)&&(i+=n++),o=i),r=(t||{}).log,k(o,"Added missing iframe ID: "+o+" ("+e.src+")")),o}(e.id);s in h&&"iFrameResizer"in e?x(s,"Ignored iFrame, already setup."):(!function(t){var n;t=t||{},h[s]={firstRun:!0,iframe:e,remoteHost:e.src&&e.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(t),Object.keys(t).forEach(o,t),function(e){for(var t in f)Object.prototype.hasOwnProperty.call(f,t)&&(h[s][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:f[t])}(t),h[s]&&(h[s].targetOrigin=!0===h[s].checkOrigin?""===(n=h[s].remoteHost)||null!==n.match(/^(about:blank|javascript:|file:\/\/)/)?"*":n:"*")}(t),function(){switch(k(s,"IFrame scrolling "+(h[s]&&h[s].scrolling?"enabled":"disabled")+" for "+s),e.style.overflow=!1===(h[s]&&h[s].scrolling)?"hidden":"auto",h[s]&&h[s].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=h[s]?h[s].scrolling:"no"}}(),function(){function t(t){1/0!==h[s][t]&&0!==h[s][t]&&(e.style[t]=h[s][t]+"px",k(s,"Set "+t+" = "+h[s][t]+"px"))}function o(e){if(h[s]["min"+e]>h[s]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}o("Height"),o("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),"number"!=typeof(h[s]&&h[s].bodyMargin)&&"0"!==(h[s]&&h[s].bodyMargin)||(h[s].bodyMarginV1=h[s].bodyMargin,h[s].bodyMargin=h[s].bodyMargin+"px"),i=D(s),(a=g())&&function(t){e.parentNode&&new t((function(t){t.forEach((function(t){Array.prototype.slice.call(t.removedNodes).forEach((function(t){t===e&&R(e)}))}))})).observe(e.parentNode,{childList:!0})}(a),b(e,"load",(function(){var t,o;U("iFrame.onload",i,e,void 0,!0),t=h[s]&&h[s].firstRun,o=h[s]&&h[s].heightCalculationMethod in d,!t&&o&&$({iframe:e,height:0,width:0,type:"init"})})),U("init",i,e,void 0,!0),h[s]&&(h[s].iframe.iFrameResizer={close:R.bind(null,h[s].iframe),removeListeners:E.bind(null,h[s].iframe),resize:U.bind(null,"Window resize","resize",h[s].iframe),moveToAnchor:function(e){U("Move to anchor","moveToAnchor:"+e,h[s].iframe,s)},sendMessage:function(e){U("Send Message","message:"+(e=JSON.stringify(e)),h[s].iframe,s)}}))}function F(e,t){null===p&&(p=setTimeout((function(){p=null,e()}),t))}function j(){"hidden"!==document.visibilityState&&(k("document","Trigger event: Visiblity change"),F((function(){L("Tab Visable","resize")}),16))}function L(e,t){Object.keys(h).forEach((function(o){(function(e){return h[e]&&"parent"===h[e].resizeFrom&&h[e].autoResize&&!h[e].firstRun})(o)&&U(e,t,h[o].iframe,o)}))}function B(){b(window,"message",T),b(window,"resize",(function(){var e;k("window","Trigger event: "+(e="resize")),F((function(){L("Window "+e,"resize")}),16)})),b(document,"visibilitychange",j),b(document,"-webkit-visibilitychange",j)}function Y(){function e(e,o){o&&(!function(){if(!o.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==o.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+o.tagName+">")}(),I(o,e),t.push(o))}var t;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!u;e+=1)u=window[t[e]+"RequestAnimationFrame"];u?u=u.bind(window):k("setup","RequestAnimationFrame not supported")}(),B(),function(o,n){switch(t=[],function(e){e&&e.enablePublicMethods&&x("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(o),typeof n){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(n||"iframe"),e.bind(void 0,o));break;case"object":e(o,n);break;default:throw new TypeError("Unexpected data type ("+typeof n+")")}return t}}}()}));class Pt extends HTMLElement{constructor(e={}){super(),this.notebookContent="",this.lastSavedNotebookContent="",this.dirty=!1,this.version="0.3.3",this.hasReceivedReadyMessage=function(e){let t,o;const n=new Promise((e,n)=>{t=e,o=n});return e&&e(t,o),{promise:n,resolve:t,reject:o}}(),this.constructorOptions=e,this.constructorOptions.iFrame?this.iFrame=this.constructorOptions.iFrame:this.iFrame=this.querySelector("iframe")}connectedCallback(){var e,t,o,n,r,i,a,s,l,c,u,d,h,p,f,m;if(this.iFrame||(this.iFrame=this.querySelector("iframe"),this.iFrame||(this.iFrame=document.createElement("iframe"),this.appendChild(this.iFrame))),this.iFrame.style.width="100%",this.options=(e=this.constructorOptions,t=this.iFrame,{iFrame:e.iFrame||null,src:null!==(r=null!==(n=null!==(o=e.src)&&void 0!==o?o:t.getAttribute("src"))&&void 0!==n?n:window.starboardEmbedIFrameSrc)&&void 0!==r?r:"https://unpkg.com/starboard-notebook@0.10.1/dist/index.html",baseUrl:e.baseUrl||t.dataset.baseUrl||void 0,autoResize:null===(i=e.autoResize)||void 0===i||i,inPageLinks:null===(a=e.inPageLinks)||void 0===a||a,sandbox:null!==(l=null!==(s=e.sandbox)&&void 0!==s?s:t.getAttribute("sandbox"))&&void 0!==l?l:"allow-scripts allow-modals allow-same-origin allow-pointer-lock allow-top-navigation-by-user-activation allow-forms allow-downloads",debug:null!==(c=e.debug)&&void 0!==c&&c,onNotebookReadySignalMessage:null!==(u=e.onNotebookReadySignalMessage)&&void 0!==u?u:function(){},onContentUpdateMessage:null!==(d=e.onContentUpdateMessage)&&void 0!==d?d:function(){},onSaveMessage:null!==(h=e.onSaveMessage)&&void 0!==h?h:function(){},onMessage:null!==(p=e.onMessage)&&void 0!==p?p:function(){},onUnsavedChangesStatusChange:null!==(f=e.onUnsavedChangesStatusChange)&&void 0!==f?f:function(){},notebookContent:e.notebookContent,preventNavigationWithUnsavedChanges:null!==(m=e.preventNavigationWithUnsavedChanges)&&void 0!==m&&m}),this.options.preventNavigationWithUnsavedChanges&&(this.unsavedChangesWarningFunction=e=>{this.dirty&&(e.preventDefault(),e.returnValue="")},window.addEventListener("beforeunload",this.unsavedChangesWarningFunction)),!this.options.notebookContent){const e=this.querySelector("script");e&&(this.options.notebookContent=e.innerText)}const g=[new URL(this.options.src,location.origin).origin];this.iFrame.sandbox.value=this.options.sandbox,this.iFrame.src!==this.options.src&&(this.iFrame.src=this.options.src),this.iFrame.frameBorder="0";const b=Rt({autoResize:this.options.autoResize,inPageLinks:this.options.inPageLinks,checkOrigin:g,log:this.options.debug,onMessage:async e=>{const t=e.message;if("NOTEBOOK_READY_SIGNAL"===t.type){if(this.options.notebookContent){const e=await this.options.notebookContent;this.notebookContent=e,this.lastSavedNotebookContent=this.notebookContent,this.sendMessage({type:"NOTEBOOK_SET_INIT_DATA",payload:{content:e,baseUrl:this.options.baseUrl}})}else this.notebookContent=t.payload.content,this.lastSavedNotebookContent=this.notebookContent;this.hasReceivedReadyMessage.resolve(t.payload),this.options.onNotebookReadySignalMessage(t.payload)}else if("NOTEBOOK_CONTENT_UPDATE"===t.type)this.notebookContent=t.payload.content,this.updateDirty(),this.options.onContentUpdateMessage(t.payload);else if("NOTEBOOK_SAVE_REQUEST"===t.type){this.notebookContent=t.payload.content,this.updateDirty(),Promise.resolve(this.options.onSaveMessage(t.payload)).then(e=>{!0===e&&(this.lastSavedNotebookContent=t.payload.content,this.updateDirty())})}this.options.onMessage(t)},onReady:()=>{}},this.iFrame);this.iFrameResizer=b[0].iFrameResizer}sendMessage(e){this.hasReceivedReadyMessage.promise.then(()=>this.iFrameResizer.sendMessage(e))}setSaved(e){void 0===e&&(e=this.notebookContent),this.lastSavedNotebookContent=e,this.updateDirty()}updateDirty(){var e;const t=this.dirty;this.dirty=this.lastSavedNotebookContent!==this.notebookContent,this.dirty!==t&&(null===(e=this.options)||void 0===e||e.onUnsavedChangesStatusChange(this.dirty))}sendCustomMessage(e){this.sendMessage(e)}dispose(){this.iFrameResizer.close(),this.unsavedChangesWarningFunction&&window.removeEventListener("beforeunload",this.unsavedChangesWarningFunction)}}function Ot(){var e;const t=navigator.userAgent.match(/Firefox\/(\d+)/);if(null!==t){const e=parseInt(t[2]||"0");if(!isNaN(e)&&e<=91)return"camera;fullscreen;gamepad;geolocation;microphone;web-share"}const o=(null===(e=document.featurePolicy)||void 0===e?void 0:e.allowedFeatures)&&document.featurePolicy.allowedFeatures();return o?o.filter(e=>-1===["display-capture","document-domain","encrypted-media"].indexOf(e)).join(";"):"camera;fullscreen;geolocation;microphone;web-share;cross-origin-isolated;accelerometer;autoplay;gyroscope;magnetometer;midi;payment;picture-in-picture;publickey-credentials-get;sync-xhr;usb;screen-wake-lock;xr-spatial-tracking"}customElements.define("starboard-embed-legacy",Pt);class _t extends HTMLElement{constructor(e={}){super(),this.notebookContent="",this.lastSavedNotebookContent="",this.dirty=!1,this.version="0.4.1",this.hasReceivedReadyMessage=function(e){let t,o;const n=new Promise((e,n)=>{t=e,o=n});return e&&e(t,o),{promise:n,resolve:t,reject:o}}(),this.constructorOptions=e,this.style.display="block",this.constructorOptions.iFrame?this.iFrame=this.constructorOptions.iFrame:this.iFrame=this.querySelector("iframe")}connectedCallback(){var e,t,o,n,r,i,a,s,l,c,u,d,h,p,f,m;if(this.iFrame||(this.iFrame=this.querySelector("iframe"),this.iFrame||(this.iFrame=document.createElement("iframe"),this.appendChild(this.iFrame))),this.iFrame.style.width="100%",this.options=(e=this.constructorOptions,t=this.iFrame,{iFrame:e.iFrame||null,src:null!==(r=null!==(n=null!==(o=e.src)&&void 0!==o?o:t.getAttribute("src"))&&void 0!==n?n:window.starboardEmbedIFrameSrc)&&void 0!==r?r:"http://127.0.0.1:8084/Starboard/StarboardMirror.html",baseUrl:e.baseUrl||t.dataset.baseUrl||void 0,autoResize:null===(i=e.autoResize)||void 0===i||i,sandbox:null!==(s=null!==(a=e.sandbox)&&void 0!==a?a:t.getAttribute("sandbox"))&&void 0!==s?s:"allow-scripts allow-modals allow-same-origin allow-pointer-lock allow-top-navigation-by-user-activation allow-forms allow-downloads",allow:null!==(c=null!==(l=e.allow)&&void 0!==l?l:t.getAttribute("allow"))&&void 0!==c?c:Ot(),onNotebookReadySignalMessage:null!==(u=e.onNotebookReadySignalMessage)&&void 0!==u?u:function(){},onContentUpdateMessage:null!==(d=e.onContentUpdateMessage)&&void 0!==d?d:function(){},onSaveMessage:null!==(h=e.onSaveMessage)&&void 0!==h?h:function(){},onMessage:null!==(p=e.onMessage)&&void 0!==p?p:function(){},onUnsavedChangesStatusChange:null!==(f=e.onUnsavedChangesStatusChange)&&void 0!==f?f:function(){},notebookContent:e.notebookContent,preventNavigationWithUnsavedChanges:null!==(m=e.preventNavigationWithUnsavedChanges)&&void 0!==m&&m}),this.options.preventNavigationWithUnsavedChanges&&(this.unsavedChangesWarningFunction=e=>{this.dirty&&(e.preventDefault(),e.returnValue="")},window.addEventListener("beforeunload",this.unsavedChangesWarningFunction)),!this.options.notebookContent){const e=this.querySelector("script");e&&(this.options.notebookContent=e.innerText)}this.iFrame.sandbox.value=this.options.sandbox,this.iFrame.allow||(this.iFrame.allow=this.options.allow),this.iFrame.src!==this.options.src&&(this.iFrame.src=this.options.src),this.iFrame.frameBorder="0",this.iFrameMessageHandler=async e=>{var t;if(null===e.source||e.source!==(null===(t=this.iFrame)||void 0===t?void 0:t.contentWindow))return;const o=this.options;if(!o)return;if(![new URL(o.src,location.origin).origin].includes(e.origin))return;if(!e.data)return;const n=e.data;if("NOTEBOOK_RESIZE_REQUEST"===n.type){const t=this.iFrame;o.autoResize&&t&&(t.setAttribute("scrolling","no"),t.style.height=`${e.data.payload.height+2}px`)}else if("NOTEBOOK_READY_SIGNAL"===n.type){if(o.notebookContent){const e=await o.notebookContent;this.notebookContent=e,this.lastSavedNotebookContent=this.notebookContent,this.sendMessage({type:"NOTEBOOK_SET_INIT_DATA",payload:{content:e,baseUrl:o.baseUrl}})}else this.notebookContent=n.payload.content,this.lastSavedNotebookContent=this.notebookContent;this.hasReceivedReadyMessage.resolve(n.payload),o.onNotebookReadySignalMessage(n.payload)}else if("NOTEBOOK_CONTENT_UPDATE"===n.type)this.notebookContent=n.payload.content,this.updateDirty(),o.onContentUpdateMessage(n.payload);else if("NOTEBOOK_SAVE_REQUEST"===n.type){this.notebookContent=n.payload.content,this.updateDirty(),Promise.resolve(o.onSaveMessage(n.payload)).then(e=>{!0===e&&(this.lastSavedNotebookContent=n.payload.content,this.updateDirty())})}o.onMessage(n)},window.addEventListener("message",this.iFrameMessageHandler)}sendMessage(e){this.hasReceivedReadyMessage.promise.then(()=>{var t,o;return null===(o=null===(t=this.iFrame)||void 0===t?void 0:t.contentWindow)||void 0===o?void 0:o.postMessage(e,"*")})}setSaved(e){void 0===e&&(e=this.notebookContent),this.lastSavedNotebookContent=e,this.updateDirty()}updateDirty(){var e;const t=this.dirty;this.dirty=this.lastSavedNotebookContent!==this.notebookContent,this.dirty!==t&&(null===(e=this.options)||void 0===e||e.onUnsavedChangesStatusChange(this.dirty))}sendCustomMessage(e){this.sendMessage(e)}dispose(){this.iFrameMessageHandler&&window.removeEventListener("message",this.iFrameMessageHandler),this.unsavedChangesWarningFunction&&window.removeEventListener("beforeunload",this.unsavedChangesWarningFunction)}}customElements.define("starboard-embed",_t);var $t=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let Nt=class extends ge{constructor(){super(...arguments),this.notebookContentString="",this.sourceShowModeActive=!1,this.author="",this.notebookId="",this.notebookName="",this.runtime="0.15.3",this.baseUrl=void 0}get hasUnsavedChanges(){return this.lastSavedNotebookContentString&&this.lastSavedNotebookContentString!==this.notebookContentString}createRenderRoot(){return this}connectedCallback(){super.connectedCallback();const e=new URLSearchParams(window.location.search);e.has("runtime")&&(this.runtime=e.get("runtime"));const t=this.runtime.match(/^0\.((11)|(10)|[0-9])\./)?Pt:_t;var o;(this.embed=new t({src:`https://${this.author.toLowerCase()||"demo"}.starboard.host/${this.runtime}/index.html`,onNotebookReadySignalMessage:()=>{this.getNotebookContentFromStorePromise.then(()=>{this.baseUrl&&this.embed.sendMessage({type:"NOTEBOOK_SET_BASE_URL",payload:{baseUrl:this.baseUrl}}),this.embed.sendMessage({type:"NOTEBOOK_SET_INIT_DATA",payload:{content:this.notebookContentString}})})},onSaveMessage:e=>{"string"==typeof e.content?(this.notebookContentString=e.content,this.save()):console.error("Invalid content update received in save")},onContentUpdateMessage:e=>{"string"==typeof e.content?this.notebookContentString=e.content:console.error("Invalid content update received in save")}}),this.embed.style.width="100%",""!==this.author&&""!==this.notebookId)?("local"===this.author?this.store=new tt:this.store=new pt(new bt,this.author),this.getNotebookContentFromStorePromise=this.store.get(this.notebookId).then(e=>{this.notebookContentString=e,this.lastSavedNotebookContentString=e}).catch(e=>console.error("Failed to get notebook content",e)),document.addEventListener("keydown",e=>{83==e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&(e.preventDefault(),this.save())},!1),o=e=>{if(this.hasUnsavedChanges)return e.preventDefault(),"You have unsaved changes"},Et(),Tt=o,window.addEventListener("beforeunload",Tt)):this.getNotebookContentFromStorePromise=Promise.resolve()}toggleSourceShowMode(){this.sourceShowModeActive=!this.sourceShowModeActive,this.performUpdate()}async save(){var e;if(""!==this.author&&""!==this.notebookId)if("local"===this.author||xe.isLoggedIn())if(this.hasUnsavedChanges){if("local"!==this.author&&this.author.toLowerCase()!==xe.loggedInUsername().toLowerCase())return void this.handleFork(!0);try{console.log("Saving notebook content"),await this.store.set(this.notebookId,this.notebookContentString),this.lastSavedNotebookContentString=this.notebookContentString,this.performUpdate()}catch(t){console.error(t),alert(`Failed to save notebook to store ${t} ${null===(e=t.response)||void 0===e?void 0:e.data}`)}}else console.debug("Skipping save as there a no changes since last save");else alert("You need to be logged in to save changes or fork a notebook.\n\nIn the current version any changes you have made now will be lost :(")}firstUpdated(e){super.firstUpdated(e)}reloadKernel(){this.embed&&this.embed.sendMessage({type:"NOTEBOOK_RELOAD_PAGE"})}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this.embed)||void 0===e||e.dispose(),Et()}render(){var e;return null===(e=this.embed)||void 0===e||e.classList.toggle("no-display",this.sourceShowModeActive),W`<div class="notebook-container"><div class="notebook-top-button-container">${this.lastSavedNotebookContentString&&this.hasUnsavedChanges?W`<button
                @click=${this.save}
                class="notebook-top-button button is-light is-small"
                style="margin-right: auto"
                title="Click to save"
              >
                <span>Click to save your changes</span>
              </button>`:void 0} <button @click="${this.reloadKernel}" class="notebook-top-button button is-light is-small" title="Reload Notebook">${(({width:e=24,height:t=24,hidden:o=!1,title:n="Refresh"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M32.674 20H30.78a1.215 1.215 0 00-1.162.938A11.447 11.447 0 0110.5 26.012l-.692-.693 3.955-3.955A.784.784 0 0014 20.8a.8.8 0 00-.754-.8H2.5a.5.5 0 00-.5.5v10.75a.8.8 0 00.8.75.781.781 0 00.56-.236l3.617-3.617.356.357a16.181 16.181 0 007.284 4.331A15.43 15.43 0 0033.665 21.17a1 1 0 00-.991-1.17zM33.2 4a.781.781 0 00-.56.236l-3.621 3.617-.356-.353a16.181 16.181 0 00-7.284-4.331A15.43 15.43 0 002.335 14.83 1 1 0 003.326 16H5.22a1.215 1.215 0 001.162-.938A11.447 11.447 0 0125.5 9.988l.692.693-3.955 3.955A.784.784 0 0022 15.2a.8.8 0 00.754.8H33.5a.5.5 0 00.5-.5V4.754A.8.8 0 0033.2 4z"
    />
  </svg>`)({width:16,height:16})}</button> <button @click="${this.toggleSourceShowMode}" class="notebook-top-button button is-light is-small"><span>View source</span></button></div><starboard-source-viewer class=${this.sourceShowModeActive?"":"no-display"} .sourceString=${this.notebookContentString}></starboard-source-viewer>${this.embed}</div>`}async handleFork(e=!1){if("local"!==this.author&&!xe.isLoggedIn())return void alert("You need to be logged in to fork a notebook.\n\nIn the current version any changes you have made now will be lost :(");let t;if(t=e?prompt("You do not own this notebook, so you will be creating a fork of it on your own account. Specify a name for your fork (or cancel):",this.notebookName+"-fork"):prompt("You will create a copy of this notebook on your account. Specify a name for your fork (or cancel):",this.notebookName+"-fork"),null!==t){console.debug("Forking to",t);try{const e=new bt,o=await e.createNotebook(t,this.notebookContentString,this.notebookId),n=xe.loggedInUsername(),r=t+"-"+o.data.id;this.onFork&&this.onFork(n,r),this.author=n,this.notebookName=t,this.notebookId=o.data.id,this.lastSavedNotebookContentString=this.notebookContentString,this.performUpdate(),this.store=new pt(new bt,this.author)}catch(e){console.error(e),alert(e+"\n\n"+JSON.stringify(e.response.data))}}}};$t([ue()],Nt.prototype,"notebookContentString",void 0),$t([ue()],Nt.prototype,"author",void 0),$t([ue()],Nt.prototype,"notebookId",void 0),$t([ue()],Nt.prototype,"notebookName",void 0),$t([ue()],Nt.prototype,"onFork",void 0),$t([ue()],Nt.prototype,"runtime",void 0),$t([ue()],Nt.prototype,"baseUrl",void 0),Nt=$t([le("starboard-editor")],Nt);let Mt=class extends ge{constructor(){super();const e=new URLSearchParams(window.location.search);this.url=e.get("url")||"",this.url&&this.fetchAndRender()}createRenderRoot(){return this}onChange(e,t){"url"===e&&(this.url=t.target.value)}onSubmit(e){const t=new URLSearchParams(window.location.search);return t.set("url",this.url),this.url&&(window.history.pushState({},"","/jupystar?"+t.toString()),this.fetchAndRender()),e.preventDefault(),!1}async fetchAndRender(){this.notebookContent="",this.error=void 0,this.performUpdate();const e=JSON.stringify({url:this.url}),t=await fetch("https://jupystar.starboardapi.com/v1/translate",{body:e,method:"POST"});if(!t.ok){this.error=W`Something went wrong: ${t.status} ${t.statusText}`;try{this.error=W`Something went wrong: <b>${(await t.json()).error.message}</b>`}catch(e){}return void this.performUpdate()}const o=await t.json();this.notebookContent=o.data.starboardNotebookContent,this.performUpdate()}onFork(e,t){console.log("ON FORK",e,t)}render(){return W`<div class="jupystar-header-container"><h1 class="title" style="font-size:2.8em;font-weight:700;margin-bottom:.6em;margin-top:.4em">Jupystar</h1><div><p>Open any <a href="https://jupyter.org">Jupyter</a> notebook as an entirely in-browser <a href="https://github.com/gzuidhof/starboard-notebook">Starboard</a> notebook.<br><b>Note: this is very experimental</b>, you will probably have to edit the notebook somewhat. Read about the <b><a href="https://starboard.gg/nb/nY6EXTP">limitations and workarounds</a></b>.</p><form @submit=${this.onSubmit} style="margin-top:1em">${wt({onChange:e=>this.onChange("url",e),id:"url-field",initialValue:this.url,placeholder:"",icon:je,type:"url",helpText:W`Enter a URL to the raw <code>.ipynb</code> file, <a href="/jupystar?url=https%3A%2F%2Fraw.githubusercontent.com%2Fiurisegtovich%2FPyTherm-applied-thermodynamics%2Fmaster%2Fcontents%2Fmain-lectures%2F2-numpy-matplotlib-vdW-EoS-isotherms.ipynb">click here for an example</a>.`,autocomplete:"",extraClasses:["is-small"]})}</form>${this.error?W`<p style="color: #ff4343;">${this.error}</p>`:void 0}</div></div>${this.notebookContent?W`<starboard-editor .notebookContentString=${this.notebookContent} .baseUrl=${function(e){const t=e.split("/");return"https://starboardproxy.com/"+t.slice(0,t.length).join("/")}(this.url)} .onFork=${(e,t)=>this.onFork(e,t)}></starboard-editor>`:void 0}`}};Mt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-jupystar")],Mt);var Ut=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let Dt=class extends ge{constructor(){super(...arguments),this.notebookSlug="",this.author=""}createRenderRoot(){return this}connectedCallback(){super.connectedCallback()}render(){let e=this.author,t="/"+this.author;const o=this.notebookSlug.split("-");let n=o[o.length-1],r=o.slice(0,o.length-1).join("-"),i=this.notebookData&&this.notebookData.my_stars&&1===this.notebookData.my_stars.count;return"local"===this.author&&(e="Local Storage",t="/dashboard/local",r=this.notebookSlug,n=this.notebookSlug),W`<div><div class="container notebook-width-container" style="display:flex;justify-content:space-between"><nav class="breadcrumb" aria-label="breadcrumbs" style="padding:0 1.5rem;margin-bottom:1rem"><ul><li><a href="${t}">${e}</a></li><li class="is-active"><strong><a href="#" aria-current="page">${r}</a></strong></li></ul></nav>${this.notebookData?W`
              <div class="tag-button-group">
                  <button @click=${()=>this.shareNotebook()} class="tag"><i style="margin-right: 2px;">${ze({width:14,height:14})}</i>Share or Embed</button>
                  <div class="tags has-addons">
                    <button @click=${()=>this.editor&&this.editor.handleFork()} class="tag"><i style="margin-right: 2px;">${(({width:e=24,height:t=24,hidden:o=!1,title:n="Branch2"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M28 22a5.962 5.962 0 00-4.608 2.2l-9.552-4.867a5.618 5.618 0 000-2.664l9.552-4.869a5.908 5.908 0 10-1.275-2.641l-9.622 4.9a6.015 6.015 0 00-.908-.846l-.008-.006a5.987 5.987 0 00-.989-.6c-.037-.018-.07-.041-.106-.058a5.965 5.965 0 00-.994-.343c-.073-.019-.141-.05-.214-.067a6 6 0 100 11.715c.074-.016.141-.048.214-.067a5.965 5.965 0 00.994-.343c.037-.017.07-.04.106-.058a5.987 5.987 0 00.989-.6l.008-.006a6.015 6.015 0 00.908-.846l9.622 4.9A6 6 0 1028 22zm0-17a3 3 0 11-3 3 3 3 0 013-3zm0 26a3 3 0 113-3 3 3 0 01-3 3z"
    />
  </svg>`)({width:14,height:14})}</i>Fork</button>
                    <span class="tag" style="background-color: #696cf5; color:#fff">${this.notebookData.forks.count}</span>
                  </div>
                  <div class="tags has-addons">
                    ${i?W`<button @click=${()=>this.unstarNotebook()} class="tag"><i style="margin-right: 2px;">${(({width:e=24,height:t=24,hidden:o=!1,title:n="Star"}={})=>lt`<svg
    xmlns="http://www.w3.org/2000/svg"
    width="${e}"
    height="${t}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
    viewBox="0 0 18 18"
  >
    <path
      d="M9.241.3l2.161 5.715 6.106.289a.255.255 0 01.147.454l-4.77 3.823 1.612 5.9a.255.255 0 01-.386.28L9.002 13.4l-5.11 3.358a.255.255 0 01-.386-.28l1.612-5.9-4.77-3.821A.255.255 0 01.495 6.3l6.107-.285L8.763.3a.255.255 0 01.478 0z"
      viewBox="0 0 0 0"
    />
  </svg>`)({width:14,height:14})}</i>Unstar</button>`:W`<button @click=${()=>this.starNotebook()} class="tag"><i style="margin-right: 2px;">${(({width:e=24,height:t=24,hidden:o=!1,title:n="Star Outline"}={})=>Ne`<svg
    xmlns="http://www.w3.org/2000/svg"
    height="${t}"
    viewBox="0 0 36 36"
    width="${e}"
    aria-hidden="${o?"true":"false"}"
    role="img"
    fill="currentColor"
    aria-label="${n}"
  >
    <path
      d="M18.059 5.082l3.554 9.5 10.219.481-7.974 6.4 2.671 9.837-8.535-5.568-8.557 5.615 2.7-9.873-7.974-6.4 10.2-.489zm.023-4.259a.737.737 0 00-.7.479l-4.411 11.349-12.2.586a.75.75 0 00-.433 1.334l9.523 7.642-3.229 11.8a.752.752 0 00.724.951.74.74 0 00.41-.126L18 28.122l10.187 6.648a.742.742 0 00.408.125.752.752 0 00.725-.95l-3.189-11.732 9.528-7.653a.75.75 0 00-.434-1.334l-12.2-.575-4.24-11.34a.738.738 0 00-.703-.488z"
    />
  </svg>`)({width:14,height:14})}</i>Star</button>`}
                    <span class="tag" style="background-color: #696cf5; color:#fff">${this.notebookData.stars.count}</span>
                  </div>
                <!-- <button class="button is-small is-borderless" title="Share Notebook"> <span style="margin-right: 4px">${ze({width:18,height:18})}</span> Share</button> -->
              </div>
              `:void 0}</div><starboard-editor .author=${this.author} .notebookId=${n} .notebookName=${r} .onFork=${(e,t)=>this.onFork(e,t)}></starboard-editor></div>`}onFork(e,t){this.author=e,this.notebookSlug=t,this.notebookData=void 0,this.performUpdate(),window.history.replaceState(null,"Starboard",`/${e}/${t}`)}async starNotebook(){if(!xe.isLoggedIn())return void alert("Please log in first");const e=new bt;try{await e.starNotebook(this.notebookData.id)}catch(e){return void alert(`Could not add star, status (${e.response.status})`)}this.notebookData.stars.count++,this.notebookData.my_stars.count=1,this.performUpdate()}async unstarNotebook(){const e=new bt;try{await e.unstarNotebook(this.notebookData.id)}catch(e){return void alert(`Could not remove star, status (${e.response.status})`)}this.notebookData.stars.count--,this.notebookData.my_stars.count=0,this.performUpdate()}async shareNotebook(){let e=`https://${this.author.toLowerCase()}.starboard.host`;if("localhost"===window.location.hostname&&(e="http://localhost:3000"),!this.editor||!this.notebookData)throw new Error("Can't share notebook from notebook page without editor or notebook data");const t=`${e}/v1/embed/${this.editor.runtime}/${this.notebookData.user.id}/${this.notebookData.id}/`,o=`<iframe src="${t}" frameborder="0"></iframe>`;nt(W`<div class="box"><b>Permalink</b><pre><code>https://starboard.gg/nb/${this.notebookData.id}</code></pre><span class="help">This is the best link to share on social media. This link is shorter and keeps working even if the author's username or notebook title changes.</span><hr><b>Embed URL</b><pre><code>${t}</code></pre><span class="help">You can use this directly in apps like <a href="https://notion.com">Notion</a> or wordpress short codes.</span> <b>Embed iFrame code</b><pre style="white-space:pre-line;font-size:.85em"><code>${o}</code></pre><span class="help">You can copy this into any HTML or Markdown document.</span></div>`)}};function It(){for(const t of[{src:"https://unpkg.com/friendly-challenge@0.9.11/widget.module.min.js",type:"module"},{src:"https://unpkg.com/friendly-challenge@0.9.11/widget.min.js",type:"application/javascript"}]){var e=document.createElement("script");e.setAttribute("src",t.src),e.async=!0,e.defer=!0,e.type=t.type,document.head.appendChild(e)}}function Ft(){const e=document.querySelector('input[name="frc-captcha-solution"]').value;return window.friendlyChallenge.autoWidget.start(),e}Ut([de("starboard-editor")],Dt.prototype,"editor",void 0),Ut([ue()],Dt.prototype,"notebookSlug",void 0),Ut([ue()],Dt.prototype,"author",void 0),Ut([ue({attribute:!1})],Dt.prototype,"notebookData",void 0),Dt=Ut([le("starboard-notebook-page")],Dt);var jt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let Lt=class extends ge{constructor(e,t){super(),this.mode="login",this.username="",this.displayName="",this.email="",this.password="",this.errorMessage="",this.apiClient=new bt,this.authenticatedCallback=e,this.emailVerificationRequiredCallback=t}createRenderRoot(){return this}async doSignup(){try{if("ok"!==(await this.apiClient.signup({username:this.username,displayName:this.displayName,email:this.email,password:this.password,captcha:Ft()})).data.message)return void alert("Something weird happened with signup, you can try logging in regardless");try{const e=await this.apiClient.login({username:this.username,password:this.password});this.onLoginSuccess(e.data)}catch(e){alert("Failed to log you in after creating account, please login manually")}}catch(e){e.response?this.errorMessage=`${JSON.stringify(e.response.data)}`:e.request?this.errorMessage=`Failed to make signup request: ${e}`:(console.log(e),this.errorMessage=`Fail: ${e}`),this.performUpdate()}}async doLogin(){try{const e=await this.apiClient.login({username:this.username,password:this.password});this.onLoginSuccess(e.data)}catch(e){e.response?this.errorMessage=`${e.response.data}`:e.request?this.errorMessage=`Failed to make login request: ${e}`:(console.log(e),this.errorMessage=`Fail: ${e}`),this.performUpdate()}}onLoginSuccess(e){e.hasOwnProperty("email")?this.emailVerificationRequiredCallback(e.email):this.authenticatedCallback()}connectedCallback(){super.connectedCallback(),this.username=new URLSearchParams(window.location.search).get("username")||""}firstUpdated(){const e=new URLSearchParams(window.location.search);this.querySelector("#username-field").focus(),e.has("username")&&this.querySelector("#password-field").focus()}async onSubmit(e){return this.errorMessage="",this.performUpdate(),"signup"===this.mode?this.doSignup():this.doLogin(),e.preventDefault(),!0}async onChange(e,t){this[e]=t.target.value}changeMode(e){this.errorMessage="",this.mode=e,this.performUpdate()}render(){const e=new URLSearchParams(window.location.search);return"signup"===this.mode&&It(),W`<div class="title-container"><h2 class="title">${"login"===this.mode?"Sign in":"Create Account"}</h2><h2 class="subtitle">Welcome to Starboard</h2></div>${"success"===e.get("emailVerification")?W`
        <div class="notification is-light">E-mail address verified, you can now log in below</div>
        `:void 0} ${e.has("message")?W`
        <div class="notification is-light">${e.get("message")}</div>
        `:void 0}<div class="tabs is-centered is-rounded"><ul><li @click=${()=>this.changeMode("login")} class=${"login"===this.mode?"is-active":""} style="font-weight:600"><a>Existing Account</a></li><li @click=${()=>this.changeMode("signup")} class=${"signup"===this.mode?"is-active":""} style="font-weight:600"><a>New Account</a></li></ul></div><form @submit=${this.onSubmit}>${"signup"===this.mode?W`
        ${wt({onChange:e=>this.onChange("username",e),id:"username-field",initialValue:this.username,placeholder:"Username",icon:qe,type:"text",helpText:W`You will use this to log in and it will appear in URLs, it can't be changed later.`,autocomplete:"username"})}
        ${wt({onChange:e=>this.onChange("password",e),id:"password-field",initialValue:this.password,placeholder:"Password",icon:Le,type:"password",helpText:"8 character minimum.",autocomplete:"new-password"})}

        <hr>
        ${wt({onChange:e=>this.onChange("displayName",e),initialValue:this.displayName,placeholder:"Display Name",icon:Ye,type:"text",helpText:W`Your full name, or a display name you are comfortable with.</b>`,autocomplete:"name"})}
        ${wt({onChange:e=>this.onChange("email",e),initialValue:this.email,placeholder:"E-mail",icon:Ie,type:"email",helpText:"This will not be publicly visible, you will need to verify this e-mail.",autocomplete:"email"})}
        <div class="frc-captcha" data-sitekey="${"FCMG05IA5GSGHUHT"}" style="width: 100%;"></div>

        <p class="help">By clicking “Create Account”, you agree to our <a href="/terms">Terms of Service</a> and <a href="/privacy">Privacy Statement</a>. We’ll occasionally send you account related emails.</p>

        `:W`
        ${wt({onChange:e=>this.onChange("username",e),id:"username-field",initialValue:this.username,placeholder:"Username",icon:qe,type:"text",helpText:void 0,autocomplete:"username"})}
        ${wt({onChange:e=>this.onChange("password",e),id:"password-field",initialValue:this.password,placeholder:"Password",icon:Le,type:"password",helpText:W`Having trouble logging in? <a href="/passwordReset">Click here</a>`,autocomplete:"current-password"})}`}<div class="field is-grouped is-grouped-right medium-margin-above"><div class="semi-bold" style="align-self:center;color:#d21a1e;margin-right:12px;font-size:.85em">${this.errorMessage}</div><input type="submit" class="button is-primary semi-bold" style="min-width:100px;flex-shrink:0" value=${"login"===this.mode?"Log in":"Create account"}></div></form>`}};jt([ue()],Lt.prototype,"authenticatedCallback",void 0),jt([ue()],Lt.prototype,"emailVerificationRequiredCallback",void 0),jt([ue()],Lt.prototype,"mode",void 0),Lt=jt([le("starboard-signup")],Lt);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const Bt=new WeakMap,Yt=p(e=>t=>{if(!(t instanceof U))throw new Error("unsafeHTML can only be used in text bindings");const o=Bt.get(t);if(void 0!==o&&_(e)&&e===o.value&&t.value===o.fragment)return;const n=document.createElement("template");n.innerHTML=e;const r=document.importNode(n.content,!0);t.setValue(r),Bt.set(t,{value:e,fragment:r})});let zt=class extends ge{createRenderRoot(){return this}render(){return W`<div class="container copy-container content">${Yt('<div class="title-container">\n    <h1 class="title">Open</h1>\n    <h2 class="subtitle">Starboard operates as an <a href="https://www.openstartuplist.com/">Open Startup</a></h2>\n</div>\n\n<p>Being an <a href="https://www.openstartuplist.com/">Open Startup</a> means we publish our metrics such as revenue, users and costs openly.</p>\n<p>We go a bit further than just that, we value an open internet in which the user is not the product. This means the following in practice</p>\n<ol>\n<li><p><strong>No tracking</strong></p>\n<p>We don&#39;t think in order to be succesful we need to track your every step, and as such you will not find any tracking cookies, Social Buttons, or Google Analytics on this website. The only client side analytics we collect are with the excellent open source tool Plausible. These analytics are <a href="https://plausible.io/starboard.gg">shared publicly</a>.</p>\n</li>\n<li><p><strong>Your data is yours</strong></p>\n<p>Your data is not held hostage on our platform. If you author content, you can export it any time. One of the main reasons why the source of a Starboard Notebook is just plaintext is to make it portable.</p>\n</li>\n<li><p><strong>An open platform</strong></p>\n<p>The aim for Starboard is to be a sharp tool that you use by <em>choice</em>, not to bait you in and get you stuck in our system. There are no <a href="https://www.darkpatterns.org/">Dark Patterns</a>. Starboard Notebook is <a href="https://github.com/gzuidhof/starboard-notebook">open source</a>.</p>\n</li>\n<li><p><strong>Inclusive and accessible</strong></p>\n<p>Starboard is a tool for sharing, publishing, exploring and learning. We want this to be accessible to all, and such there will always be a free tier with few limitations. There is no place for hate speech or racism on this platform.</p>\n</li>\n</ol>\n<blockquote>\n<p><strong>Help make this possible</strong>  </p>\n<p>Starboard offers a lot for free, but of course it is not free to operate. If Starboard provides value for you and you wish to support its development, consider donating on <a href="https://github.com/sponsors/gzuidhof">Github Sponsors</a>.</p>\n<p>If your company would like to self-host Starboard or become a sponsor, don&#39;t hesitate to <a href="mailto:guido@starboard.gg">reach out</a>.</p>\n</blockquote>\n<hr>\n<h2 id="metrics">Metrics</h2>\n<h4 id="revenue-and-costs">Revenue and Costs</h4>\n<p>Last updated 28 March 2023.</p>\n<p>We currently receive <strong>$84</strong> in recurring donations and <strong>$0</strong> in revenue (there is no monetization and there will be no monetization for the new future).</p>\n<p>Monthly recurring costs are approximately:</p>\n<p><strong>$8.43</strong> for managed database hosting<br><strong>$8.23</strong> for domain registration<br><strong>$15.00</strong> for web hosting and CDN<br><strong>$8.00</strong> for analytics<br><strong>$0.63</strong> for secret management  </p>\n<p>We are still within the free tier for bandwidth, transactional e-mails and cloud storage. </p>\n<p>I am working on this and Starboard related projects in my spare time - I have a hard time finding a lot of time for it in all honesty.</p>\n<iframe src="https://github.com/sponsors/gzuidhof/button" title="Sponsor gzuidhof" height="35" width="116" style="border: 0;"></iframe>\n\n<h4 id="site-and-platform-metrics">Site and Platform Metrics</h4>\n<p>Visitor stats are available <a href="http://plausible.io/starboard.gg">here</a>.</p>\n')}</div>`}};zt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-open")],zt);let qt=class extends ge{createRenderRoot(){return this}render(){return W`<div class="container copy-container content">${Yt('<div class="title-container">\n    <h1 class="title">About</h1>\n    <h2 class="subtitle">Why Starboard is worth building</h2>\n</div>\n\n<p><em>Starboard is an in-browser literate notebook that is extendable, sharable and hackable.</em></p>\n<p>Literate notebook systems such as <a href="https://jupyter.org/">Jupyter Notebook</a> are a great way to explore, visualize and explain ideas and data. The ability to mix text, code and visualizations make notebooks a powerful tool for building a narrative.</p>\n<p><strong>Starboard&#39;s unique design decisions</strong></p>\n<ul>\n<li><strong>Browser-native</strong>: there is no bridge required between the server and the browser like in Jupyter notebook as everything is in-browser. This means that you can share the URL to your notebook and it will just work. Starboard is built around browser standards (i.e. there is no widget system: it&#39;s HTML elements).</li>\n<li><strong>Zero-setup</strong>: Create a new notebook with one click in your browser, there is zero setup and you don&#39;t need a server running to serve your notebook. Everything is a static file.</li>\n<li><strong>Portable</strong>: Some notebook systems are walled gardens or don&#39;t play nice with version control. Starboard notebooks are stored on disk as plaintext files for maximum portability. You can check them in to Git, embed the notebook on your blog, export a static website, or even auto-generate notebook reports.</li>\n<li><strong>Hackable</strong>: Different than any other notebook system the Starboard editor itself runs inside the sandbox. The code you write in the notebook can alter the notebook itself: you can dynamically create new cell types, change the CSS styles, or anything really.</li>\n</ul>\n<h2 id="use-cases">Use-cases</h2>\n<p>Starboard can probably be used in a lot of different contexts, but Starboard notebooks are an especially good fit for:</p>\n<ul>\n<li><strong>Interactive articles, tutorials and programming language playgrounds</strong>.</li>\n<li><strong>Data exploration and visualization</strong>.</li>\n<li><strong>Prototypes, small web applications, and simple dashboards.</strong></li>\n<li><strong>Interactive API documentation</strong>.</li>\n<li><strong>Machine learning demos</strong> (using for example Tensorflow.JS or WebAssembly).</li>\n<li><strong>Generated reports</strong> (the plaintext format is a lot easier to generate than a PDF file).</li>\n</ul>\n<p><strong>When is Starboard not a good choice?</strong></p>\n<ul>\n<li><strong>Large web applications</strong>: notebooks are inherently single files. While you can import from other files, it will still become unmanagable. Notebooks are great for prototyping, but you will want to graduate to a proper web app at some point. As Starboard notebooks are just Javascript, it should be pretty straightforward.</li>\n<li><strong>Long-running computations or very large datasets</strong>: To visualize or use data in the browser, you will have to load it into the browser. For long-running computations I suggest that you don&#39;t use notebooks at all but use a dedicated script using a suitable programming language (e.g. Python).</li>\n<li><strong>Old-browser support</strong>: Starboard uses new browser tech (especially important is <a href="https://caniuse.com/#feat=es6-module-dynamic-import">dynamic import</a> support). If you need to support Internet Explorer look elsewhere.</li>\n</ul>\n<h2 id="language-support">Language support</h2>\n<p>Starboard Notebook supports cell types that are native to the browser (JS script, CSS, HTML), Markdown, LaTeX and Python out of the box. Other cell types can be loaded dynamically, which allows you to add support for any other languages. This keeps the core of Starboard Notebook simple, small and predictable.</p>\n<p>WebAssembly makes it possible to run an increasing amount of languages in the browser with good-enough performance (such as Python through <a href="https://github.com/iodide-project/pyodide">Project Pyodide</a>).</p>\n<h2 id="starboard-vs-starboard-notebook">Starboard vs Starboard Notebook</h2>\n<p>It can be confusing as these terms are used interchangeably.</p>\n<p><strong>Starboard Notebook</strong> is the actual notebook runtime with the editor (the code cells, outputs and buttons).</p>\n<p>This website, <strong>Starboard</strong>, embeds this editor and allows you to save and share notebooks (allowing you to share by just a link) and will in the future have some social features (stars, upvotes, followers, ...). Think of it as a publishing platform for your notebooks.</p>\n<blockquote>\n<p>A somewhat correct analogy: If Starboard was GitHub, Starboard Notebook would be Git.</p>\n</blockquote>\n')}</div>`}};qt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-about")],qt);let Ht=class extends ge{createRenderRoot(){return this}render(){return W`<div class="container copy-container content">${Yt('<h1 id="terms-of-service">Terms of Service</h1>\n<p>By using the starboard.gg web site (&quot;Service&quot;), or any services of Starboard Labs (&quot;Starboard&quot;), you are agreeing to be bound by the following terms and conditions (&quot;Terms of Service&quot;). IF YOU ARE ENTERING INTO THIS AGREEMENT ON BEHALF OF A COMPANY OR OTHER LEGAL ENTITY, YOU REPRESENT THAT YOU HAVE THE AUTHORITY TO BIND SUCH ENTITY, ITS AFFILIATES AND ALL USERS WHO ACCESS OUR SERVICES THROUGH YOUR ACCOUNT TO THESE TERMS AND CONDITIONS, IN WHICH CASE THE TERMS &quot;YOU&quot; OR &quot;YOUR&quot; SHALL REFER TO SUCH ENTITY, ITS AFFILIATES AND USERS ASSOCIATED WITH IT. IF YOU DO NOT HAVE SUCH AUTHORITY, OR IF YOU DO NOT AGREE WITH THESE TERMS AND CONDITIONS, YOU MUST NOT ACCEPT THIS AGREEMENT AND MAY NOT USE THE SERVICES.</p>\n<p>Violation of any of the terms below will result in the termination of your Account. You agree to use the Service at your own risk.</p>\n<p>You must be 13 years or older to use this Service.</p>\n<p>You must be a human. Accounts registered by &quot;bots&quot; or other automated methods are not permitted.</p>\n<p>You must provide a valid email address, and any other information requested in order to complete the signup process.</p>\n<p>You are responsible for maintaining the security of your account, application secrets and linked e-mail addresses. Starboard cannot and will not be liable for any loss or damage from your failure to comply with this security obligation.</p>\n<p>You are responsible for all Content posted and activity that occurs under your account (even when Content is posted by others who have accounts under your account).</p>\n<p>One person or legal entity may not maintain more than one account.</p>\n<p>You may not use the Service for any illegal or unauthorized purpose. You must not, in the use of the Service, violate any laws in your jurisdiction (including but not limited to copyright or trademark laws).</p>\n<p>Customers may access their Starboard account data via an API (Application Program Interface). Any use of the API, including use of the API through a third-party product that accesses Starboard, is bound by these Terms of Service plus the following specific terms:</p>\n<p>You expressly understand and agree that Starboard shall not be liable for any direct, indirect, incidental, special, consequential or exemplary damages, including but not limited to, damages for loss of profits, goodwill, use, data or other intangible losses (even if Starboard has been advised of the possibility of such damages), resulting from your use of the API or third-party products that access data via the API.</p>\n<p>Abuse or excessively frequent requests to Starboard via the API may result in the temporary or permanent suspension of your account&#39;s access to the API. Starboard, in its sole discretion, will determine abuse or excessive usage of the API. Starboard will make a reasonable attempt via email to warn the account owner prior to suspension.</p>\n<p>Starboard reserves the right at any time to modify or discontinue, temporarily or permanently, your access to the API (or any part thereof) with or without notice.</p>\n<p>All paid plans must enter a valid credit card or other payment method. Free accounts are not required to provide a credit card number. An upgrade from the free plan to any paying plan will immediately bill you.</p>\n<p>For monthly payment plans, the Service is billed in advance on a monthly basis and is non-refundable. There will be no refunds or credits for partial months of service, upgrade/downgrade refunds, or refunds for months unused with an open account. In order to treat everyone equally, no exceptions will be made. When changing from a monthly billing cycle to a yearly billing cycle, Starboard will bill for a full year at the next monthly billing date.</p>\n<p>All fees are exclusive of all taxes, levies, or duties imposed by taxing authorities, and you shall be responsible for payment of all such taxes, levies, or duties.</p>\n<p>For any upgrade or downgrade in plan level while on a monthly billing cycle, the credit card that you provided will automatically be charged the new rate on your next billing cycle. For upgrades or downgrades while on a yearly plan, Starboard will immediately charge or refund the difference in plan cost, prorated for the remaining time in your yearly billing cycle.</p>\n<p>Downgrading your Service may cause the loss of Content, features, or capacity of your Account. Starboard does not accept any liability for such loss.</p>\n<p>You are solely responsible for properly canceling your account. An email or phone request to cancel your account is not considered cancellation, this must be confirmed by an automated or employee message from Starboard.</p>\n<p>All of your Content may be immediately deleted from the Service upon cancellation at the sole discretion of Starboard. This information can not be recovered.</p>\n<p>If you cancel the Service before the end of your current paid up month, your cancellation will take effect immediately and you will not be charged again.</p>\n<p>Starboard, in its sole discretion, has the right to suspend or terminate your account and refuse any and all current or future use of the Service, or any other Starboard service, for any reason at any time. Such termination of the Service will result in the deactivation or deletion of your Account or your access to your Account, and the forfeiture and relinquishment of all Content in your Account. Starboard reserves the right to refuse service to anyone for any reason at any time.</p>\n<p>We claim no intellectual property rights over the material you provide to the Service. Your profile and materials uploaded remain yours.</p>\n<p>Starboard does not pre-screen Content, but Starboard and its designee have the right (but not the obligation) in their sole discretion to refuse or remove any Content that is available via the Service.</p>\n<p>You shall defend Starboard against any claim, demand, suit or proceeding made or brought against Starboard by a third party alleging that Your Content, or Your use of the Service in violation of this Agreement, infringes or misappropriates the intellectual property rights of a third party or violates applicable law, and shall indemnify Starboard for any damages finally awarded against, and for reasonable attorney’s fees incurred by, Starboard in connection with any such claim, demand, suit or proceeding; provided, that Starboard (a) promptly gives You written notice of the claim, demand, suit or proceeding; (b) gives You sole control of the defense and settlement of the claim, demand, suit or proceeding (provided that You may not settle any claim, demand, suit or proceeding unless the settlement unconditionally releases Starboard of all liability); and (c) provides to You all reasonable assistance, at Your expense.</p>\n<p>The look and feel of the Service is copyright ©2020 Starboard, all rights reserved. You may not duplicate, copy, or reuse any portion of the HTML/CSS, Javascript, or visual design elements or concepts that is not available under an open source license without express written permission from Starboard.</p>\n<p>Your use of the Service is at your sole risk. The service is provided on an &quot;as is&quot; and &quot;as available&quot; basis.</p>\n<p>Support for Starboard services is only available in English, via email.</p>\n<p>You understand that Starboard uses third party vendors and hosting partners to provide the necessary hardware, software, networking, storage, and related technology required to run the Service.</p>\n<p>You must not modify, adapt or hack the Service or modify another website so as to falsely imply that it is associated with the Service, Starboard, or any other Starboard service.</p>\n<p>You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service, use of the Service, or access to the Service without the express written permission by Starboard.</p>\n<p>We may, but have no obligation to, remove Content and Accounts containing Content that we determine in our sole discretion are unlawful, offensive, threatening, libelous, defamatory, pornographic, obscene or otherwise objectionable or violates any party&#39;s intellectual property or these Terms of Service.</p>\n<p>Verbal, physical, written or other abuse (including threats of abuse or retribution) of any Starboard customer, employee, member, or officer will result in immediate account termination.</p>\n<p>You understand that the technical processing and transmission of the Service, including your Content, may be transfered unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices.</p>\n<p>You must not upload, post, host, or transmit unsolicited email, SMSs, or &quot;spam&quot; messages.</p>\n<p>You must not transmit any worms or viruses or any code of a destructive nature.</p>\n<p>If your bandwidth usage significantly exceeds the average bandwidth usage (as determined solely by Starboard) of other Starboard customers, we reserve the right to immediately disable your account or throttle your API access until you can reduce your bandwidth consumption.</p>\n<p>Starboard does not warrant that (i) the service will meet your specific requirements, (ii) the service will be uninterrupted, timely, secure, or error-free, (iii) the results that may be obtained from the use of the service will be accurate or reliable, (iv) the quality of any products, services, information, or other material purchased or obtained by you through the service will meet your expectations, and (v) any errors in the Service will be corrected.</p>\n<p>You expressly understand and agree that Starboard shall not be liable for any direct, indirect, incidental, special, consequential or exemplary damages, including but not limited to, damages for loss of profits, goodwill, use, data or other intangible losses (even if Starboard has been advised of the possibility of such damages), resulting from: (i) the use or the inability to use the service; (ii) the cost of procurement of substitute goods and services resulting from any goods, data, information or services purchased or obtained or messages received or transactions entered into through or from the service; (iii) unauthorized access to or alteration of your transmissions or data; (iv) statements or conduct of any third party on the service; (v) or any other matter relating to the service.</p>\n<p>The failure of Starboard to exercise or enforce any right or provision of the Terms of Service shall not constitute a waiver of such right or provision. The Terms of Service constitutes the entire agreement between you and Starboard and govern your use of the Service, superseding any prior agreements between you and Starboard (including, but not limited to, any prior versions of the Terms of Service).</p>\n<p>Questions about the Terms of Service should be sent to toc@starboard.gg.</p>\n')}</div>`}};Ht=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-terms")],Ht);let Vt=class extends ge{createRenderRoot(){return this}render(){return W`<div class="container copy-container content">${Yt('<h1 id="privacy-policy">Privacy Policy</h1>\n<blockquote>\n<p>Last updated: July 25, 2020</p>\n</blockquote>\n<p>This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You.</p>\n<p>We use Your Personal data to provide and improve the Service. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy. This Privacy Policy is maintained by the <a href="https://www.privacypolicies.com/privacy-policy-generator/">Privacy Policy Generator</a>.</p>\n<h2 id="interpretation-and-definitions">Interpretation and Definitions</h2>\n<h3 id="interpretation">Interpretation</h3>\n<p>The words of which the initial letter is capitalized have meanings defined under the following conditions.</p>\n<p>The following definitions shall have the same meaning regardless of whether they appear in singular or in plural.</p>\n<h3 id="definitions">Definitions</h3>\n<p>For the purposes of this Privacy Policy:</p>\n<ul>\n<li>You means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable.</li>\n<li>Company (referred to as either &quot;the Company&quot;, &quot;We&quot;, &quot;Us&quot; or &quot;Our&quot; in this Agreement) refers to Starboard.</li>\n<li>Affiliate means an entity that controls, is controlled by or is under common control with a party, where &quot;control&quot; means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.</li>\n<li>Account means a unique account created for You to access our Service or parts of our Service.</li>\n<li>Website refers to Starboard, accessible from https://starboard.gg</li>\n<li>Service refers to the Website.</li>\n<li>Country refers to: United Kingdom</li>\n<li>Service Provider means any natural or legal person who processes the data on behalf of the Company. It refers to third-party companies or individuals employed by the Company to facilitate the Service, to provide the Service on behalf of the Company, to perform services related to the Service or to assist the Company in analyzing how the Service is used.</li>\n<li>Third-party Social Media Service refers to any website or any social network website through which a User can log in or create an account to use the Service.\nPersonal Data is any information that relates to an identified or identifiable individual.</li>\n<li>Cookies are small files that are placed on Your computer, mobile device or any other device by a website, containing the details of Your browsing history on that website among its many uses.</li>\n<li>Device means any device that can access the Service such as a computer, a cellphone or a digital tablet.</li>\n<li>Usage Data refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself (for example, the duration of a page visit).</li>\n</ul>\n<h2 id="collecting-and-using-your-personal-data">Collecting and Using Your Personal Data</h2>\n<h3 id="types-of-data-collected">Types of Data Collected</h3>\n<h4 id="personal-data">Personal Data</h4>\n<p>While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:</p>\n<ul>\n<li>Email address</li>\n<li>Usage Data</li>\n</ul>\n<h4 id="usage-data">Usage Data</h4>\n<p>Usage Data is collected automatically when using the Service.</p>\n<p>Usage Data may include information such as Your Device&#39;s Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, and other diagnostic data.</p>\n<p>We may also collect information that Your browser sends whenever You visit our Service or when You access the Service by or through a mobile device.</p>\n<h3 id="use-of-your-personal-data">Use of Your Personal Data</h3>\n<p>The Company may use Personal Data for the following purposes:</p>\n<p>To provide and maintain our Service, including to monitor the usage of our Service.\nTo manage Your Account: to manage Your registration as a user of the Service. The Personal Data You provide can give You access to different functionalities of the Service that are available to You as a registered user.\nFor the performance of a contract: the development, compliance and undertaking of the purchase contract for the products, items or services You have purchased or of any other contract with Us through the Service.\nTo contact You: To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication, such as a mobile application&#39;s push notifications regarding updates or informative communications related to the functionalities, products or contracted services, including the security updates, when necessary or reasonable for their implementation.\nTo provide You with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information.\nTo manage Your requests: To attend and manage Your requests to Us.</p>\n<h3 id="retention-of-your-personal-data">Retention of Your Personal Data</h3>\n<p>The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies.</p>\n<p>The Company will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period of time, except when this data is used to strengthen the security or to improve the functionality of Our Service, or We are legally obligated to retain this data for longer time periods.</p>\n<h3 id="transfer-of-your-personal-data">Transfer of Your Personal Data</h3>\n<p>Your information, including Personal Data, is processed at the Company&#39;s operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to — and maintained on — computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction.</p>\n<p>Your consent to this Privacy Policy followed by Your submission of such information represents Your agreement to that transfer.</p>\n<p>The Company will take all steps reasonably necessary to ensure that Your data is treated securely and in accordance with this Privacy Policy and no transfer of Your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of Your data and other personal information.</p>\n<h3 id="disclosure-of-your-personal-data">Disclosure of Your Personal Data</h3>\n<h4 id="business-transactions">Business Transactions</h4>\n<p>If the Company is involved in a merger, acquisition or asset sale, Your Personal Data may be transferred. We will provide notice before Your Personal Data is transferred and becomes subject to a different Privacy Policy.</p>\n<h4 id="law-enforcement">Law enforcement</h4>\n<p>Under certain circumstances, the Company may be required to disclose Your Personal Data if required to do so by law or in response to valid requests by public authorities (e.g. a court or a government agency).</p>\n<h4 id="other-legal-requirements">Other legal requirements</h4>\n<p>The Company may disclose Your Personal Data in the good faith belief that such action is necessary to:</p>\n<ul>\n<li><p>Comply with a legal obligation</p>\n</li>\n<li><p>Protect and defend the rights or property of the Company</p>\n</li>\n<li><p>Prevent or investigate possible wrongdoing in connection with the Service</p>\n</li>\n<li><p>Protect the personal safety of Users of the Service or the public</p>\n</li>\n<li><p>Protect against legal liability</p>\n</li>\n</ul>\n<h3 id="security-of-your-personal-data">Security of Your Personal Data</h3>\n<p>The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security.</p>\n<h2 id="childrens-privacy">Children&#39;s Privacy</h2>\n<p>Our Service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from anyone under the age of 13. If You are a parent or guardian and You are aware that Your child has provided Us with Personal Data, please contact Us. If We become aware that We have collected Personal Data from anyone under the age of 13 without verification of parental consent, We take steps to remove that information from Our servers.</p>\n<p>If We need to rely on consent as a legal basis for processing Your information and Your country requires consent from a parent, We may require Your parent&#39;s consent before We collect and use that information.</p>\n<h2 id="links-to-other-websites">Links to Other Websites</h2>\n<p>Our Service may contain links to other websites that are not operated by Us. If You click on a third party link, You will be directed to that third party&#39;s site.</p>\n<p>We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services.</p>\n<h3 id="changes-to-this-privacy-policy">Changes to this Privacy Policy</h3>\n<p>We may update our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page.\nYou are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page.</p>\n<h3 id="contact-us">Contact Us</h3>\n<p>If you have any questions about this Privacy Policy, You can contact us:</p>\n<ul>\n<li>By email: <a href="mailto:privacy@starboard.gg">privacy@starboard.gg</a></li>\n</ul>\n')}</div>`}};function Wt(e,t=0,{start:o=!0,middle:n=!0,once:r=!1}={}){let i,a=0,s=!1;function l(...c){if(s)return;const u=Date.now()-a;a=Date.now(),o?(o=!1,e.apply(this,c),r&&l.cancel()):(n&&u<t||!n)&&(clearTimeout(i),i=setTimeout(()=>{a=Date.now(),e.apply(this,c),r&&l.cancel()},n?t-u:t))}return l.cancel=()=>{clearTimeout(i),s=!0},l}Vt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}([le("starboard-privacy")],Vt);var Jt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let Gt=class extends ge{constructor(){super(),this.token="",this.username="",this.password="",this.errorMessage="",this.apiClient=new bt}createRenderRoot(){return this}async doRequestPasswordReset(){this.errorMessage="",this.performUpdate();try{if(this.token){await this.apiClient.resetPassword({username:this.username,password:this.password,token:this.token});alert("Password changed succesfully."),window.location.replace(`/login?message=${encodeURI("Password changed succesfully, you can now log in with your new password.")}`)}else{await this.apiClient.requestPasswordReset({username:this.username,captcha:Ft()});alert("Email sent with password reset instructions")}}catch(e){e.response?this.errorMessage=`${JSON.stringify(e.response.data)}`:e.request?this.errorMessage=`Failed to make request: ${e}`:this.errorMessage=`Fail: ${e}`,this.performUpdate()}}connectedCallback(){super.connectedCallback(),this.token=new URLSearchParams(window.location.search).get("token")||""}async onSubmit(e){return this.doRequestPasswordReset(),e.preventDefault(),!0}async onChange(e,t){this[e]=t.target.value}render(){return this.token||It(),W`<div class="container" style="max-width:580px"><div class="title-container"><h2 class="title">Password Reset</h2></div><form @submit=${this.onSubmit}>${this.token?W`
                ${wt({onChange:e=>this.onChange("username",e),initialValue:this.username,placeholder:"Username",icon:qe,type:"text",helpText:W`In case you forgot, it's in the reset password e-mail.`,autocomplete:"username"})}
                ${wt({onChange:e=>this.onChange("password",e),initialValue:this.password,placeholder:"New Password",icon:Le,type:"password",helpText:W`8 character minimum.`,autocomplete:"new-password"})}
              `:W`${wt({onChange:e=>this.onChange("username",e),initialValue:this.username,placeholder:"Username",icon:qe,type:"text",helpText:W`You can find your username in the welcome e-mail.<br />Still need help?
                    <a href="mailto:help@starboard.gg">Reach out to us</a>`,autocomplete:"username"})}
                <div class="frc-captcha" data-sitekey="${"FCMG05IA5GSGHUHT"}"></div> `}</form><div class="field is-grouped is-grouped-right"><div class="semi-bold" style="align-self:center;color:#d21a1e;margin-right:12px;font-size:.85em">${this.errorMessage}</div><button @click=${this.onSubmit} class="button is-primary semi-bold" style="min-width:100px">Submit</button></div></div>`}};Jt([ue()],Gt.prototype,"token",void 0),Jt([function(e=0,t={}){return(o,n,r)=>{if(!r||"function"!=typeof r.value)throw new Error("debounce can only decorate functions");const i=r.value;r.value=Wt(i,e,t),Object.defineProperty(o,n,r)}}(2e3,{middle:!1})],Gt.prototype,"doRequestPasswordReset",null),Gt=Jt([le("starboard-password-reset")],Gt);var Kt=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let Xt=class extends ge{createRenderRoot(){return this}connectedCallback(){super.connectedCallback()}render(){const e=xe.isLoggedIn(),t=this.profile.user;return W`<div class="container" style="margin-top:4rem"><div class="columns"><div class="column is-one-fifth" style="line-height:1.2"><h1 class="is-size-4 has-text-weight-semibold" style="margin-bottom:0">${t.display_name}</h1><a class="is-size-5 has-text-weight-light has-text-grey" @click=${uo} href=${"/u/"+t.username}>${t.username}</a><p class="is-size-6 has-text-grey" style="margin-top:1rem">Joined<relative-time style="margin-left:.2em" datetime=${t.created_at}></relative-time></p><br>${e?t.username===xe.loggedInUsername()?W`
                            <a href="/dashboard/account" class="button is-small is-link is-outlined" @click=${uo}>Manage my account</a><br>
                        `:W`
                            
                        `:W`
                    ${Je({class:"is-link is-small is-outlined"})}
                    `}</div><div class="column is-four-fifths"><starboard-notebook-list .author=${t.username} .notebooks=${t.notebooks} headerTitle="Public Notebooks"></starboard-notebook-list></div></div></div>`}};function Qt(e,t,o){return W`<div class="container" style="max-width:580px"><div class="section"><div class="title-container"><h1 class="title">${e}</h1><h2 class="subtitle">${t}</h2>${o}</div></div></div>`}function Zt(e,t){return t||(t="The page you are looking for can not be found."),Qt("Not Found",e,W`<p>${t}</p><hr><p><a href="/dashboard">🔗 Back to Dashboard</a></p>`)}function eo(e,t){return Qt("Error","Something went wrong",W`<p>${e}</p><p class="has-text-grey">${t}</p><br><p>You can try again, or maybe check your browser's console.</p><hr><p><a href="/dashboard">🔗 Back to Dashboard</a></p>`)}Kt([ue({attribute:!1})],Xt.prototype,"profile",void 0),Xt=Kt([le("starboard-profile")],Xt);var to=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};let oo=class extends ge{createRenderRoot(){return this}connectedCallback(){super.connectedCallback()}render(){const e=this.accountData.user;return W`<div class="content"><h3>Account Details</h3><p><b>Username</b>: ${e.username}<br><b>Display name</b>: ${e.display_name}<br><b>Email</b>: ${e.email}<br><br><b>Account created<relative-time style="margin-left:.2em" datetime=${e.created_at}></relative-time></b><br><b>Unique account ID</b>: ${e.id}<br><br><a href="/${e.username}" class="button is-small">View my public profile</a></p><hr><p class="help">You can't actually manage much of your account yet here..<br>This page is a work in progress, you can <a href="mailto:account@starboard.gg">send an e-mail</a> to have your account details changed for now.</p></div>`}};function no(){return W`<starboard-home></starboard-home>`}function ro(e,t,o){return W`<starboard-dashboard class="section" .title=${t} .subtitle=${o} .pageTemplate=${e}></starboard-dashboard>`}function io(e,t="Please log in first to view this page"){return xe.hasValidToken()?e:W`<div class="content"><p style="margin-bottom:1rem">${t}</p>${Je()}</div>`}function ao(e,t){if(Array.isArray(t)&&(console.warn("Notebook ID is a list unexpectedly, using first el",t),t=t[0]),"local"===e)return W`<starboard-notebook-page class="section" .author=${e} .notebookSlug=${t}></starboard-notebook-page>`;const o=new Promise(async o=>{try{const n=new bt,r=(await n.getNotebookData(t.split("-").pop())).data;if(null===r.notebook)throw new Error("NOT FOUND");const i=r.notebook.name+"-"+r.notebook.id;if("nb"!==e&&r.notebook.user.username.toLowerCase()===e.toLowerCase()||window.history.replaceState(null,"Starboard",`/${r.notebook.user.username}/${i}`),r.notebook.user.username.toLowerCase()!==e.toLowerCase()&&"nb"!==e)throw new Error("NOT FOUND");return o(W`<starboard-notebook-page class="section" .author=${r.notebook.user.username} .notebookSlug=${i} .notebookData=${r.notebook}></starboard-notebook-page>`)}catch(n){if("NOT FOUND"===n.message||404===n.response.status)o(Zt(`/${e}/${t}`));else{if(console.error(n),"Network Error"===n.message)return void o(eo(n,"Maybe the Starboard API is having issues."));console.log(n.response,n.responseText,JSON.stringify(n)),o(eo(n,JSON.stringify(n.response.data||n.response)))}}});return W`${at(o,W`<div class="container notebook-width-container">
      Fetching notebook..
    </div>`)}`}function so(e){return W`<div class="container" style="max-width:440px;padding:4px"><starboard-signup class="section" mode="${e}" .authenticatedCallback=${()=>{window.location.replace("/dashboard")}} .emailVerificationRequiredCallback=${e=>{window.location.replace(`/welcome?email=${encodeURI(e)}`)}}></starboard-signup></div>`}function lo(e){return W`<starboard-navbar></starboard-navbar><div class="main-content">${e}</div><starboard-footer></starboard-footer>`}to([ue({attribute:!1})],oo.prototype,"accountData",void 0),oo=to([le("starboard-manage-account")],oo);const co=new d([{path:"",action:()=>lo(no())},{path:"/legacy",action:()=>lo(no())},{path:"/local",children:[{path:"",action:()=>window.location.replace("dashboard/local")},{path:"/:notebookSlug",action:e=>lo(ao("local",e.params.notebookSlug))}]},{path:"/signup",action:()=>lo(so("signup"))},{path:"/login",action:()=>lo(so("login"))},{path:"/passwordReset",action:()=>lo(W`<starboard-password-reset class="section"></starboard-password-reset>`)},{path:"/welcome",action:()=>lo(W`<div class="container" style="max-width:580px"><div class="section"><div class="title-container"><h2 class="title">Welcome</h2><h2 class="subtitle">Thank you for signing up</h2></div><p><strong>Please check your inbox to verify your e-mail address.</strong></p></div></div>`)},{path:"/dashboard",children:[{path:"",action:()=>lo(ro(W`<starboard-dashboard-home></starboard-dashboard-home>`,"Home","Welcome to Starboard"))},{path:"/local",action:()=>lo(ro(W`<starboard-local></starboard-local>`,"Offline Notebooks","These notebooks are saved in your browser's storage."))},{path:"/notebooks",action:()=>lo(ro(io(W`<starboard-notebooks-overview></starboard-notebooks-overview>`),"Cloud Notebooks",""))},{path:"/new",action:()=>lo(ro(W`<starboard-create></starboard-create>`,"New Notebook",""))},{path:"/account",action:()=>lo(ro(io(function(){const e=new Promise(async e=>{try{const t=new bt,o=await t.getOwnAccountInfo();e(W`<starboard-manage-account .accountData=${o.data}></starboard-manage-account>`)}catch(t){if(console.error(t),"Network Error"===t.message)return void e(eo(t,"Maybe the Starboard API is having issues."));console.log(t.response,t.responseText,JSON.stringify(t)),e(eo(t,JSON.stringify(t.response.data||t.response)))}});return W`${at(e,"Fetching your account data")}`}()),"Manage Account",""))},{path:"/signout",action:()=>lo(ro(W`<div class="content"><p>Click the button below to log out, have a great day.</p><button class="button is-primary" @click=${()=>{xe.setTokenByString(void 0),window.location.replace("/dashboard")}}>Sign out of Starboard</button></div>`,"Sign Out",""))}]},{path:"/open",action:()=>lo(W`<starboard-open class="section"></starboard-open>`)},{path:"/about",action:()=>lo(W`<starboard-about class="section"></starboard-about>`)},{path:"/terms",action:()=>lo(W`<starboard-terms class="section"></starboard-terms>`)},{path:"/privacy",action:()=>lo(W`<starboard-privacy class="section"></starboard-privacy>`)},{path:"/sso/discourse",action:async()=>lo(await async function(){const e=new bt;if(xe.hasValidToken()){const t=new URLSearchParams(window.location.search);if(!t.has("sso")||!t.has("sig"))return console.error("Both sso and sig should be present as URL search params"),eo("Invalid Discourse SSO link","sig and sso params must be present.");const o={sso:decodeURIComponent(t.get("sso")),sig:decodeURIComponent(t.get("sig"))},n=await e.discourseSSO(o);return window.location.replace(n.data.redirectUrl),Qt("Login succesful","You are being redirected",W`You are being redirected to <a href="${n.data.redirectUrl}">community.starboard.gg</a> any moment now.`)}return Qt("One more step","Please sign in to Starboard first",W`<p><a href="/login">Sign in to Starboard first</a>, you can then log in to the Community forum.</p><hr><p><a href="/login">🔗 Login page</a></p>`)}())},{path:"/jupystar",action:()=>(document.title="Starboard Jupystar",lo(W`<starboard-jupystar></starboard-jupystar>`))},{path:"/jupystar/about",action:()=>lo(W`The Jupystar about page is not implemented yet..`)},{path:"/nb/:notebookId",action:e=>lo(ao("nb",e.params.notebookId))},{path:"/legacy/:username/:notebookSlug",action:e=>lo(ao(e.params.username,e.params.notebookSlug))},{path:"/:username/:notebookSlug",action:e=>lo(ao(e.params.username,e.params.notebookSlug))},{path:"/:username",action:e=>lo(function(e){const t=new Promise(async t=>{try{const o=new bt,n=await o.getUserProfile(e);if(null===n.data.user)return void t(Zt("/"+e));t(W`<starboard-profile .profile=${n.data}></starboard-profile>`)}catch(o){if(void 0!==o.response&&404===o.response.status)return void t(Zt("/"+e));if(console.error(o),"Network Error"===o.message)return void t(eo(o,"Maybe the Starboard API is having issues."));console.log(o.response,o.responseText,JSON.stringify(o)),t(eo(o,JSON.stringify(o.response.data||o.response)))}});return W`${at(t,"Fetching user profile..")}`}(e.params.username))}],{errorHandler:(e,t)=>(console.error(e),console.info(t.pathname),404===e.status?lo(Zt(t.pathname)):lo(eo(e.name,e.message)))});function uo(e){let t=e.target;for(;!t.href;){if(!t.parentNode)return;t=t.parentNode}var o;Tt||(e.preventDefault(),o=t.href,window.history.pushState({},"",o),co.resolve(window.location).then(e=>V(e,document.body)))}const ho=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],po=["January","February","March","April","May","June","July","August","September","October","November","December"];function fo(e){return"0".concat(e).slice(-2)}function mo(e,t){const o=e.getDay(),n=e.getDate(),r=e.getMonth(),i=e.getFullYear(),a=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return t.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,(function(t){let c;switch(t[1]){case"%":return"%";case"a":return ho[o].slice(0,3);case"A":return ho[o];case"b":return po[r].slice(0,3);case"B":return po[r];case"c":return e.toString();case"d":return fo(n);case"e":return String(n);case"H":return fo(a);case"I":return fo(mo(e,"%l"));case"l":return String(0===a||12===a?12:(a+12)%12);case"m":return fo(r+1);case"M":return fo(s);case"p":return a>11?"PM":"AM";case"P":return a>11?"pm":"am";case"S":return fo(l);case"w":return String(o);case"y":return fo(i%100);case"Y":return String(i);case"Z":return c=e.toString().match(/\((\w+)\)$/),c?c[1]:"";case"z":return c=e.toString().match(/\w([+-]\d\d\d\d) /),c?c[1]:""}return""}))}function go(e){let t;return function(){if(t)return t;if("Intl"in window)try{return t=new Intl.DateTimeFormat(void 0,e),t}catch(e){if(!(e instanceof RangeError))throw e}}}let bo=null;const yo=go({day:"numeric",month:"short"});function vo(){if(null!==bo)return bo;const e=yo();if(e){const t=e.format(new Date(0));return bo=!!t.match(/^\d/),bo}return!1}let wo=null;const ko=go({day:"numeric",month:"short",year:"numeric"});function So(e){const t=e.closest("[lang]");return t instanceof HTMLElement&&t.lang?t.lang:"default"}const xo=new WeakMap;class Co extends HTMLElement{static get observedAttributes(){return["datetime","day","format","lang","hour","minute","month","second","title","weekday","year"]}connectedCallback(){const e=this.getFormattedTitle();e&&!this.hasAttribute("title")&&this.setAttribute("title",e);const t=this.getFormattedDate();t&&(this.textContent=t)}attributeChangedCallback(e,t,o){const n=this.getFormattedTitle();if("datetime"===e){const e=Date.parse(o);isNaN(e)?xo.delete(this):xo.set(this,new Date(e))}const r=this.getFormattedTitle(),i=this.getAttribute("title");"title"===e||!r||i&&i!==n||this.setAttribute("title",r);const a=this.getFormattedDate();a&&(this.textContent=a)}get date(){return xo.get(this)}getFormattedTitle(){const e=this.date;if(!e)return;const t=To();if(t)return t.format(e);try{return e.toLocaleString()}catch(t){if(t instanceof RangeError)return e.toString();throw t}}getFormattedDate(){}}const To=go({day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),Ao=new WeakMap;class Eo extends Co{attributeChangedCallback(e,t,o){"hour"!==e&&"minute"!==e&&"second"!==e&&"time-zone-name"!==e||Ao.delete(this),super.attributeChangedCallback(e,t,o)}getFormattedDate(){const e=this.date;if(!e)return;const t=function(e,t){const o={weekday:{short:"%a",long:"%A"},day:{numeric:"%e","2-digit":"%d"},month:{short:"%b",long:"%B"},year:{numeric:"%Y","2-digit":"%y"}};let n=vo()?"weekday day month year":"weekday month day, year";for(const t in o){const r=o[t][e.getAttribute(t)];n=n.replace(t,r||"")}return n=n.replace(/(\s,)|(,\s$)/,""),mo(t,n).replace(/\s+/," ").trim()}(this,e)||"",o=function(e,t){const o={},n=e.getAttribute("hour");"numeric"!==n&&"2-digit"!==n||(o.hour=n);const r=e.getAttribute("minute");"numeric"!==r&&"2-digit"!==r||(o.minute=r);const i=e.getAttribute("second");"numeric"!==i&&"2-digit"!==i||(o.second=i);const a=e.getAttribute("time-zone-name");"short"!==a&&"long"!==a||(o.timeZoneName=a);if(0===Object.keys(o).length)return;let s=Ao.get(e);s||(s=go(o),Ao.set(e,s));const l=s();if(l)return l.format(t);{const e=o.second?"%H:%M:%S":"%H:%M";return mo(t,e)}}(this,e)||"";return"".concat(t," ").concat(o).trim()}}window.customElements.get("local-time")||(window.LocalTimeElement=Eo,window.customElements.define("local-time",Eo));class Ro{constructor(e,t){this.date=e,this.locale=t}toString(){const e=this.timeElapsed();if(e)return e;{const e=this.timeAhead();return e||"on ".concat(this.formatDate())}}timeElapsed(){const e=(new Date).getTime()-this.date.getTime(),t=Math.round(e/1e3),o=Math.round(t/60),n=Math.round(o/60),r=Math.round(n/24);return e>=0&&r<30?this.timeAgoFromMs(e):null}timeAhead(){const e=this.date.getTime()-(new Date).getTime(),t=Math.round(e/1e3),o=Math.round(t/60),n=Math.round(o/60),r=Math.round(n/24);return e>=0&&r<30?this.timeUntil():null}timeAgo(){const e=(new Date).getTime()-this.date.getTime();return this.timeAgoFromMs(e)}timeAgoFromMs(e){const t=Math.round(e/1e3),o=Math.round(t/60),n=Math.round(o/60),r=Math.round(n/24),i=Math.round(r/30),a=Math.round(i/12);return e<0?Po(this.locale,0,"second"):t<10?Po(this.locale,0,"second"):t<45?Po(this.locale,-t,"second"):t<90?Po(this.locale,-o,"minute"):o<45?Po(this.locale,-o,"minute"):o<90?Po(this.locale,-n,"hour"):n<24?Po(this.locale,-n,"hour"):n<36?Po(this.locale,-r,"day"):r<30?Po(this.locale,-r,"day"):i<18?Po(this.locale,-i,"month"):Po(this.locale,-a,"year")}microTimeAgo(){const e=(new Date).getTime()-this.date.getTime(),t=Math.round(e/1e3),o=Math.round(t/60),n=Math.round(o/60),r=Math.round(n/24),i=Math.round(r/30),a=Math.round(i/12);return o<1?"1m":o<60?"".concat(o,"m"):n<24?"".concat(n,"h"):r<365?"".concat(r,"d"):"".concat(a,"y")}timeUntil(){const e=this.date.getTime()-(new Date).getTime();return this.timeUntilFromMs(e)}timeUntilFromMs(e){const t=Math.round(e/1e3),o=Math.round(t/60),n=Math.round(o/60),r=Math.round(n/24),i=Math.round(r/30),a=Math.round(i/12);return i>=18?Po(this.locale,a,"year"):i>=12?Po(this.locale,a,"year"):r>=45?Po(this.locale,i,"month"):r>=30?Po(this.locale,i,"month"):n>=36?Po(this.locale,r,"day"):n>=24?Po(this.locale,r,"day"):o>=90?Po(this.locale,n,"hour"):o>=45?Po(this.locale,n,"hour"):t>=90?Po(this.locale,o,"minute"):t>=45?Po(this.locale,o,"minute"):Po(this.locale,t>=10?t:0,"second")}microTimeUntil(){const e=this.date.getTime()-(new Date).getTime(),t=Math.round(e/1e3),o=Math.round(t/60),n=Math.round(o/60),r=Math.round(n/24),i=Math.round(r/30),a=Math.round(i/12);return r>=365?"".concat(a,"y"):n>=24?"".concat(r,"d"):o>=60?"".concat(n,"h"):o>1?"".concat(o,"m"):"1m"}formatDate(){let e=vo()?"%e %b":"%b %e";var t;return t=this.date,(new Date).getUTCFullYear()!==t.getUTCFullYear()&&(e+=function(){if(null!==wo)return wo;const e=ko();if(e){const t=e.format(new Date(0));return wo=!!t.match(/\d,/),wo}return!0}()?", %Y":" %Y"),mo(this.date,e)}formatTime(){const e=Oo();return e?e.format(this.date):mo(this.date,"%l:%M%P")}}function Po(e,t,o){const n=function(e,t){if("Intl"in window&&"RelativeTimeFormat"in window.Intl)try{return new Intl.RelativeTimeFormat(e,t)}catch(e){if(!(e instanceof RangeError))throw e}}(e,{numeric:"auto"});return n?n.format(t,o):function(e,t){if(0===e)switch(t){case"year":case"quarter":case"month":case"week":return"this ".concat(t);case"day":return"today";case"hour":case"minute":return"in 0 ".concat(t,"s");case"second":return"now"}else if(1===e)switch(t){case"year":case"quarter":case"month":case"week":return"next ".concat(t);case"day":return"tomorrow";case"hour":case"minute":case"second":return"in 1 ".concat(t)}else if(-1===e)switch(t){case"year":case"quarter":case"month":case"week":return"last ".concat(t);case"day":return"yesterday";case"hour":case"minute":case"second":return"1 ".concat(t," ago")}else if(e>1)switch(t){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return"in ".concat(e," ").concat(t,"s")}else if(e<-1)switch(t){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return"".concat(-e," ").concat(t,"s ago")}throw new RangeError("Invalid unit argument for format() '".concat(t,"'"))}(t,o)}const Oo=go({hour:"numeric",minute:"2-digit"});class _o extends Co{getFormattedDate(){const e=this.date;if(e)return new Ro(e,So(this)).toString()}connectedCallback(){$o.push(this),No||(Mo(),No=setInterval(Mo,6e4)),super.connectedCallback()}disconnectedCallback(){const e=$o.indexOf(this);-1!==e&&$o.splice(e,1),$o.length||No&&(clearInterval(No),No=null)}}const $o=[];let No;function Mo(){let e,t,o;for(t=0,o=$o.length;t<o;t++)e=$o[t],e.textContent=e.getFormattedDate()||""}window.customElements.get("relative-time")||(window.RelativeTimeElement=_o,window.customElements.define("relative-time",_o));class Uo extends _o{getFormattedDate(){const e=this.getAttribute("format"),t=this.date;if(t)return"micro"===e?new Ro(t,So(this)).microTimeAgo():new Ro(t,So(this)).timeAgo()}}window.customElements.get("time-ago")||(window.TimeAgoElement=Uo,window.customElements.define("time-ago",Uo));class Do extends _o{getFormattedDate(){const e=this.getAttribute("format"),t=this.date;if(t)return"micro"===e?new Ro(t,So(this)).microTimeUntil():new Ro(t,So(this)).timeUntil()}}window.customElements.get("time-until")||(window.TimeUntilElement=Do,window.customElements.define("time-until",Do)),co.resolve(window.location).then(e=>V(e,document.body)),window.addEventListener("popstate",e=>{location.reload()})}});